(this["webpackJsonpchamp-unite"]=this["webpackJsonpchamp-unite"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,a,t){},,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/search-feature.27916b86.png"},function(e,a,t){e.exports=t.p+"static/media/create-feature.f8762ccd.png"},function(e,a,t){e.exports=t.p+"static/media/select-feature.602f516a.png"},function(e,a,t){e.exports=t.p+"static/media/battle-feature.538625ee.png"},function(e,a,t){e.exports=t.p+"static/media/ranking-feature.2308d2e7.png"},function(e,a,t){e.exports=t(80)},,,,,function(e,a,t){},,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(30),r=t.n(s),c=(t(42),t(3)),i=t.n(c),o=t(6),u=t(1),m=t(2),d=t(5),p=(t(44),t(4)),f=t.n(p);t(61).config();var k=function(e){return f.a.post("/api/users/signup",e)},h=function(e){return f.a.post("/api/users/login",e)},g=function(){return f.a.get("/api/users/logout")},b=function(){return f.a.get("/api/users/user_data")},E=function(e,a){return f.a.put("/api/users/"+e+"/"+a)},x=function(e,a){return f.a.put("/api/users/champions/"+e+"/"+a)},v=function(e){return f.a.post("/api/champions",e)},w=function(){return f.a.get("/api/champions")},N=function(e){return f.a.get("/api/champions/query/"+e)},y=function(e){return f.a.get("/api/champions/superhero_id/"+e)},O=function(e){return f.a.get("/api/champions/"+e)},j=function(e){return f.a.get("/api/champions/user/"+e)},S=function(e){return f.a.delete("/api/champions/"+e)},C=function(e){var a="https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/".concat("2839209799538545","/search/").concat(e);return new Promise((function(e,t){f.a.get(a).then((function(a){e(a)})).catch((function(e){return t(e)}))}))},_=function(){return f.a.get("/api/users")},I=function(){return f.a.get("/api/users/ranking")},R=function(e){return f.a.get("/api/users/username/"+e)},L=function(e){return f.a.get("/api/users/search/"+e)},U=function(e){return f.a.get("/api/users/id/"+e)},D=function(e){return f.a.put("/api/users/update/wins/"+e)},P=function(e){return f.a.put("/api/users/update/losses/"+e)},B=function(e){return f.a.put("/api/users/update/total_battle/"+e)},T=function(e,a){return f.a.put("/api/users/update/wins_percent/"+e,a)},A=function(e){return f.a.get("/api/users/search_by_username/"+e)},M=function(e){return f.a.get("/api/queries/"+e)},W=function(e){return f.a.post("/api/queries",e)};var F=function(){var e=Object(n.useState)({}),a=Object(u.a)(e,2),t=a[0],s=a[1];function r(){g().then((function(){console.log("User logged out."),s({isLoggedIn:!1})})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){b().then((function(e){s({isLoggedIn:!0})})).catch((function(e){console.log(e),s({isLoggedIn:!1})}))}),[]),l.a.createElement("header",null,l.a.createElement("nav",{className:"uk-navbar-container uk-navbar-transparent uk-light","uk-navbar":"true"},l.a.createElement("div",{className:"nav-left uk-navbar-left"},l.a.createElement(m.b,{className:"uk-navbar-item uk-logo",to:"/"},"ChampUnite"),l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/Ranking"},"Ranking")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/champions"},"Champions")))),l.a.createElement("div",{className:"nav-right-large uk-navbar-right"},t.isLoggedIn?l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/login",onClick:r},"Logout"))):l.a.createElement("ul",{className:"uk-navbar-nav"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/login"},"Login")))),l.a.createElement("div",{className:"nav-right-small uk-navbar-right uk-margin-top uk-margin-right"},l.a.createElement("button",{className:"nav-small-icon uk-button uk-button-default",type:"button","uk-toggle":"target: #nav-small"},l.a.createElement("span",{"uk-icon":"icon: menu"})),l.a.createElement("div",{id:"nav-small","uk-offcanvas":"flip: true; overlay: true"},l.a.createElement("div",{className:"nav-bar-small uk-offcanvas-bar uk-flex uk-flex-column"},l.a.createElement("button",{className:"uk-offcanvas-close",type:"button","uk-close":"true"}),t.isLoggedIn?l.a.createElement("ul",{className:"uk-nav uk-nav-primary uk-nav-center"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/Ranking"},"Ranking")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/champions"},"Champions")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/profile"},"Profile")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/login",onClick:r},"Logout"))):l.a.createElement("ul",{className:"uk-nav uk-nav-primary uk-nav-center"},l.a.createElement("li",null,l.a.createElement(m.b,{to:"/Ranking"},"Ranking")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/users"},"Users")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/champions"},"Champions")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/login"},"Login"))))))))};t(69);var Y=function(){return l.a.createElement("div",{className:"home-hero uk-inline uk-background-fixed uk-background-center uk-height-large uk-flex uk-flex-top uk-width-expand"},l.a.createElement("div",{className:"hero-overlay uk-position-cover"}),l.a.createElement("div",{className:"hero-text uk-width-1-2@m uk-text-center uk-margin-auto uk-margin-auto-vertical"},l.a.createElement("h1",null,"ChampUnite"),l.a.createElement("p",null,"Create your champion(s) now and battle against other users on a one-one-one match."),l.a.createElement(m.b,{to:"/signup",className:"uk-button primary-btn"},"Sign up")))},H=(t(70),t(32)),q=t.n(H),J=t(33),z=t.n(J),G=t(34),Q=t.n(G),K=t(35),$=t.n(K),V=t(36),X=t.n(V);var Z=function(){return l.a.createElement("section",{className:"features-container uk-section uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("h2",null,"Features"),l.a.createElement("div",{className:"uk-margin-top uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("div",{className:"uk-child-width-expand@s uk-text-left@s uk-text-center","uk-grid":"true"},l.a.createElement("img",{className:"feature-img uk-width-1-3@m uk-width-1-2@s",src:q.a,alt:"Search feature","uk-img":"true"}),l.a.createElement("div",{className:"feature-text uk-flex uk-flex-column"},l.a.createElement("h4",null,"Search Champions"),l.a.createElement("p",{className:"uk-margin-remove-top"},"Use the search feature to search for your favorite superheroes/champions from a list of over 700."))),l.a.createElement("div",{className:"uk-child-width-expand@s uk-text-left@s uk-text-center","uk-grid":"true"},l.a.createElement("img",{className:"feature-img uk-width-1-3@m uk-width-1-2@s",src:z.a,alt:"Create feature","uk-img":"true"}),l.a.createElement("div",{className:"feature-text uk-flex uk-flex-column"},l.a.createElement("h4",null,"Create a Champion"),l.a.createElement("p",{className:"uk-margin-remove-top"},"You have the freedom to create your own champion. Just need a name and image url. The powerstats will be randomly generated so test your luck! The attack and defense will be calculated based on the stats."))),l.a.createElement("div",{className:"uk-child-width-expand@s uk-text-left@s uk-text-center","uk-grid":"true"},l.a.createElement("img",{className:"feature-img uk-width-1-3@m uk-width-1-2@s",src:Q.a,alt:"Select feature","uk-img":"true"}),l.a.createElement("div",{className:"feature-text uk-flex uk-flex-column"},l.a.createElement("h4",null,"Select a Champion for Battle"),l.a.createElement("p",{className:"uk-margin-remove-top"},"Select a user to battle from the Users page and then select one of your champions to go into battle."))),l.a.createElement("div",{className:"uk-child-width-expand@s uk-text-left@s uk-text-center","uk-grid":"true"},l.a.createElement("img",{className:"feature-img uk-width-1-3@m uk-width-1-2@s",src:$.a,alt:"Battle feature","uk-img":"true"}),l.a.createElement("div",{className:"feature-text uk-flex uk-flex-column"},l.a.createElement("h4",null,"Battle Users"),l.a.createElement("p",{className:"uk-margin-remove-top"},"Watch as you do a one-on-battle against another user's champion. This is automatic and the champions take turns attacking one another. We take the attacker's Attack value, randomize a value from 1 up to the champion's Defense value in defense mode, and calculate the difference for the health damage."))),l.a.createElement("div",{className:"uk-child-width-expand@s uk-text-left@s uk-text-center","uk-grid":"true"},l.a.createElement("img",{className:"feature-img uk-width-1-3@m uk-width-1-2@s",src:X.a,alt:"Ranking feature","uk-img":"true"}),l.a.createElement("div",{className:"feature-text uk-flex uk-flex-column"},l.a.createElement("h4",null,"Make the Ranking"),l.a.createElement("p",{className:"uk-margin-remove-top"},"Battle atleast 20 times to get on the ranking with the bests.")))))};t(15);var ee=function(){return l.a.createElement("div",{className:"home-container"},l.a.createElement(Y,null),l.a.createElement(Z,null))};t(71);var ae=function(){return l.a.createElement("footer",{className:"uk-height-small uk-flex uk-flex-column uk-flex-center uk-flex-middle uk-width-expand uk-light"},l.a.createElement("div",{className:"social-links uk-flex uk-flex-between"},l.a.createElement("a",{href:"https://github.com/aroblesgalit",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("span",{"uk-icon":"icon: github",className:"uk-icon"})),l.a.createElement("a",{href:"https://www.linkedin.com/in/aroblesgalit/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("span",{"uk-icon":"icon: linkedin",className:"uk-icon"}))),l.a.createElement("p",{className:"uk-text-small"},"\xa9 2020 Alvin Galit"),l.a.createElement("a",{className:"uk-text-small",href:"https://superheroapi.com/index.html"},"Superhero API"),l.a.createElement("a",{className:"uk-text-small",href:"https://www.freepik.com/free-photos-vectors/sport"},"Battle page background created by starline"))};t(72);var te=function(){var e=Object(n.useRef)(),a=Object(n.useRef)(),t=Object(n.useState)(!1),s=Object(u.a)(t,2),r=s[0],c=s[1];return l.a.createElement("form",{className:"login-form uk-flex uk-flex-column uk-flex-middle uk-height-1-1"},l.a.createElement("h2",null,"Login"),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),l.a.createElement("input",{className:"uk-input",type:"text",placeholder:"champion201",ref:e}))),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),l.a.createElement("input",{className:"uk-input",type:"password",placeholder:"******",ref:a}))),r?l.a.createElement("p",{className:"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right"},"Login failed."):"",l.a.createElement("div",{className:"uk-margin-small"},l.a.createElement("button",{className:"uk-button primary-btn",type:"submit",onClick:function(t){t.preventDefault();var n=e.current.value.toLowerCase(),l=a.current.value;h({username:n,password:l}).then((function(e){window.location.replace("/profile"),console.log("You are now logged in.")})).catch((function(e){console.log("Something went wrong during login...",e),c(!0)})),setTimeout((function(){c(!1)}),3e3)}},"Log in")),l.a.createElement("p",{className:"signup-login-text"},"Don't have an account? ",l.a.createElement(m.b,{to:"/signup"},l.a.createElement("span",null,"Sign up here now."))))};var ne=function(){return l.a.createElement("div",{className:"login-container uk-background-cover uk-flex uk-flex-center"},l.a.createElement(te,null))};t(73);var le=function(){var e=Object(n.useRef)(),a=Object(n.useRef)(),t=Object(n.useRef)(),s=Object(n.useState)(!1),r=Object(u.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],f=d[1],h=Object(n.useState)(!1),g=Object(u.a)(h,2),b=g[0],E=g[1],x=Object(n.useState)(!1),v=Object(u.a)(x,2),w=v[0],N=v[1];return l.a.createElement("form",{className:"signup-form uk-flex uk-flex-column uk-flex-middle uk-height-1-1"},l.a.createElement("h2",null,"Signup"),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),l.a.createElement("input",{className:"uk-input",type:"text",placeholder:"champion201",ref:e})),c?l.a.createElement("p",{className:"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right"},"Username is taken."):""),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),l.a.createElement("input",{className:"uk-input",type:"password",placeholder:"password",ref:a})),w?l.a.createElement("p",{className:"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right"},"Password too short."):""),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: lock"}),l.a.createElement("input",{className:"uk-input",type:"password",placeholder:"confirm password",ref:t})),b?l.a.createElement("p",{className:"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right"},"Password doesn't match."):""),p?l.a.createElement("p",{className:"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right"},"Empty field(s)."):"",l.a.createElement("div",{className:"uk-margin-small"},l.a.createElement("button",{className:"uk-button primary-btn",type:"submit",onClick:function(n){n.preventDefault();var l=e.current.value,s=l.toLowerCase(),r=a.current.value,c=t.current.value;s&&r&&c?r.length>=6?r===c?k({displayName:l,username:s,password:r}).then((function(e){console.log("User is signed up...",e),window.location.replace("/profile")})).catch((function(e){console.log("Failed signup...",e),i(!0)})):E(!0):N(!0):f(!0),setTimeout((function(){i(!1),f(!1),E(!1),N(!1)}),3e3)}},"Sign up")),l.a.createElement("p",{className:"signup-login-text"},"Already have an account? ",l.a.createElement(m.b,{to:"/login"},l.a.createElement("span",null,"Log in here now."))))};var se=function(){return l.a.createElement("div",{className:"signup-container uk-background-cover uk-flex uk-flex-center"},l.a.createElement(le,null))};t(74),t(75);var re=function(e){var a=Object(n.useState)({}),t=Object(u.a)(a,2),s=t[0],r=t[1];Object(n.useEffect)((function(){b().then((function(e){r({isLoggedIn:!0,id:e.data.id,champions:e.data.champions})})).catch((function(e){console.log(e),r({isLoggedIn:!1})}))}),[]);var c=Object(n.useState)(!1),m=Object(u.a)(c,2),d=m[0],p=m[1],f=Object(n.useState)(!1),k=Object(u.a)(f,2),h=k[0],g=k[1];function w(e){return.8*e}function N(){return(N=Object(o.a)(i.a.mark((function a(){var t,n,l,r,c,o,u,m,d,f,k,h;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(s.champions.length<3)){a.next=30;break}if(g(!0),!e.nullStats){a.next=22;break}return t=function(e,a,t){return((e+a+t)/30).toFixed()},l=(n=function(){return Math.floor(100*Math.random()+1)})(),r=n(),c=n(),o=n(),u=n(),m=n(),d=t(l,r,c),f=t(o,u,m),a.next=16,v({user:s.id,name:e.name,image:e.image,strength:l,power:r,combat:c,intelligence:o,speed:u,durability:m,attack:d,defense:f,nullStats:e.nullStats});case 16:return k=a.sent,a.next=19,E(s.id,k.data._id);case 19:window.location.reload(!1),a.next=28;break;case 22:return a.next=24,v({user:s.id,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,nullStats:e.nullStats});case 24:return h=a.sent,a.next=27,E(s.id,h.data._id);case 27:window.location.reload(!1);case 28:a.next=33;break;case 30:console.log("You've reached the max number of champions on your list! Please make room if you'd like to add another."),p(!0),setTimeout((function(){p(!1)}),4e3);case 33:a.next=38;break;case 35:a.prev=35,a.t0=a.catch(0),console.log("Add failed: ",a.t0);case 38:case"end":return a.stop()}}),a,null,[[0,35]])})))).apply(this,arguments)}return l.a.createElement("div",{className:"champion-card uk-card uk-position-relatve",style:e.selected&&e.selectedId===e.id?{border:"2px solid #221D54"}:{border:""}},d?l.a.createElement("div",{className:"max-reached-alert uk-alert-danger uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast","uk-alert":"true"},l.a.createElement("p",null,"You've reached the max of 3 champions! Please make room if you'd like to add another.")):"",h?l.a.createElement("div",{className:"champion-added-alert uk-alert-success uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast","uk-alert":"true"},l.a.createElement("p",null,e.name," successfuly added to your list!")):"","search"===e.type&&s.isLoggedIn?l.a.createElement("button",{className:"add-btn uk-icon-button uk-position-absolute","uk-icon":"plus",onClick:function(){return N.apply(this,arguments)}}):"","user"===e.type&&s.isLoggedIn?l.a.createElement("button",{className:"delete-btn uk-icon-button uk-position-absolute","uk-icon":"close",onClick:function(){S(e.id).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){return console.log(e)})),x(s.id,e.id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}}):"","battle"===e.type&&s.isLoggedIn?l.a.createElement("button",{className:"select-btn uk-icon-button uk-position-absolute","uk-icon":"check",onClick:e.handleSelect}):"",l.a.createElement("div",{className:"champion-name-container uk-position-absolute uk-text-center",style:e.selected&&e.selectedId===e.id?{border:"1px solid #221D54"}:{border:""}},l.a.createElement("span",{className:"champion-name"},e.name)),l.a.createElement("div",{className:"champion-img-container uk-card-media-top uk-margin-top uk-position-relative uk-flex uk-flex-center uk-flex-top"},l.a.createElement("div",{className:"battle-stats-container uk-position-absolute"},l.a.createElement("div",{className:"battle-stats battle-stats-atk uk-flex uk-flex-column uk-flex-middle uk-margin-small-bottom"},l.a.createElement("span",{className:"battle-stats-val"},e.attack),l.a.createElement("span",{className:"battle-stats-label"},"ATK")),l.a.createElement("div",{className:"battle-stats battle-stats-def uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("span",{className:"battle-stats-val"},e.defense),l.a.createElement("span",{className:"battle-stats-label"},"DEF"))),l.a.createElement("img",{src:e.image,alt:e.name})),l.a.createElement("div",{className:"uk-card-body"},l.a.createElement("p",{className:"stats-header uk-flex uk-flex-middle"},"STATS ",e.nullStats?l.a.createElement("span",{className:"null-icon","uk-icon":"icon: ban; ratio: .8;","uk-tooltip":"title: Stats are randomized on add.; pos: right"}):""),l.a.createElement("div",{className:"stat-row uk-flex uk-flex-middle"},l.a.createElement("span",{className:"stats-label"},"STR"),l.a.createElement("div",{className:"stats-bar-container uk-flex uk-flex-middle uk-width-expand"},l.a.createElement("div",{className:"stats-bar",style:{width:w(e.strength)+"%"}}),l.a.createElement("span",{className:"stats-val"},e.strength))),l.a.createElement("div",{className:"stat-row uk-flex uk-flex-middle"},l.a.createElement("span",{className:"stats-label"},"PWR"),l.a.createElement("div",{className:"stats-bar-container uk-flex uk-flex-middle uk-width-expand"},l.a.createElement("div",{className:"stats-bar",style:{width:w(e.power)+"%"}}),l.a.createElement("span",{className:"stats-val"},e.power))),l.a.createElement("div",{className:"stat-row uk-flex uk-flex-middle"},l.a.createElement("span",{className:"stats-label"},"CBT"),l.a.createElement("div",{className:"stats-bar-container uk-flex uk-flex-middle uk-width-expand"},l.a.createElement("div",{className:"stats-bar",style:{width:w(e.combat)+"%"}}),l.a.createElement("span",{className:"stats-val"},e.combat))),l.a.createElement("div",{className:"stat-row uk-flex uk-flex-middle"},l.a.createElement("span",{className:"stats-label"},"INT"),l.a.createElement("div",{className:"stats-bar-container uk-flex uk-flex-middle uk-width-expand"},l.a.createElement("div",{className:"stats-bar",style:{width:w(e.intelligence)+"%"}}),l.a.createElement("span",{className:"stats-val"},e.intelligence))),l.a.createElement("div",{className:"stat-row uk-flex uk-flex-middle"},l.a.createElement("span",{className:"stats-label"},"SPD"),l.a.createElement("div",{className:"stats-bar-container uk-flex uk-flex-middle uk-width-expand"},l.a.createElement("div",{className:"stats-bar",style:{width:w(e.speed)+"%"}}),l.a.createElement("span",{className:"stats-val"},e.speed))),l.a.createElement("div",{className:"stat-row uk-flex uk-flex-middle"},l.a.createElement("span",{className:"stats-label"},"DUR"),l.a.createElement("div",{className:"stats-bar-container uk-flex uk-flex-middle uk-width-expand"},l.a.createElement("div",{className:"stats-bar",style:{width:w(e.durability)+"%"}}),l.a.createElement("span",{className:"stats-val"},e.durability)))))};var ce=function(e){var a=Object(n.useState)({}),t=Object(u.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)([]),m=Object(u.a)(c,2),d=m[0],p=m[1],f=Object(n.useState)(""),k=Object(u.a)(f,2),h=k[0],g=k[1],E=Object(n.useState)(""),x=Object(u.a)(E,2),v=x[0],w=x[1],N=Object(n.useState)({selected:!1,championId:""}),y=Object(u.a)(N,2),j=y[0],S=y[1];function C(){return(C=Object(o.a)(i.a.mark((function e(){var a,t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.champions&&s.champions.length>0)){e.next=12;break}a=[],t=0;case 3:if(!(t<s.champions.length)){e.next=11;break}return e.next=6,O(s.champions[t]);case 6:n=e.sent,a.push(n.data);case 8:t++,e.next=3;break;case 11:p(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){b().then((function(e){r({isLoggedIn:!0,champions:e.data.champions})})).catch((function(e){r({isLoggedIn:!1})}))}),[]),l.a.createElement("section",{className:"profile-header uk-section uk-flex uk-flex-middle uk-light"},l.a.createElement("div",{className:"profile-img-container uk-flex uk-flex-center uk-flex-middle uk-margin-right"},l.a.createElement("img",{className:"uk-border-circle",src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",alt:"Avatar"})),l.a.createElement("div",{className:"uk-flex uk-flex-bottom"},l.a.createElement("div",{className:"uk-flex uk-flex-column uk-margin-large-right"},l.a.createElement("h2",null,e.displayName),l.a.createElement("div",{className:"uk-flex"},l.a.createElement("div",{className:"user-stats uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("span",{className:"stat-val"},e.rank),l.a.createElement("span",{className:"stat-label"},"Rank")),l.a.createElement("div",{className:"user-stats uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("span",{className:"stat-val"},e.wins),l.a.createElement("span",{className:"stat-label"},"Wins")),l.a.createElement("div",{className:"user-stats uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("span",{className:"stat-val"},e.losses),l.a.createElement("span",{className:"stat-label"},"Losses")))),"otherUser"===e.type&&e.champions&&s.champions&&s.champions.length>0&&e.champions.length>0?l.a.createElement("button",{"uk-toggle":"target: #user-champions-modal",className:"uk-button secondary-btn",onClick:function(){!function(){C.apply(this,arguments)}(),function(){if(e.champions&&e.champions.length>1){var a=Math.floor(Math.random()*e.champions.length);w(e.champions[a])}else w(e.champions[0])}()}},"Battle"):""),l.a.createElement("div",{id:"user-champions-modal","uk-modal":"true"},l.a.createElement("div",{className:"user-champions-modal-wrapper uk-modal-dialog"},l.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),l.a.createElement("div",{className:"uk-modal-header"},l.a.createElement("h2",{className:"uk-modal-title"},"My Champions"),l.a.createElement("p",null,"Select one of your champions to go into battle.")),l.a.createElement("div",{className:"uk-modal-body uk-flex uk-width-1-1"},d&&d.length>0?d.map((function(e){return l.a.createElement(re,{key:e._id||e.image,id:e._id,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,type:"battle",handleSelect:function(){return a=e._id,g(a),void S({selected:!0,championId:a});var a},selected:j.selected,selectedId:j.championId})})):l.a.createElement("p",null,"Search for Champions to add or create your own!")),l.a.createElement("div",{className:"uk-modal-footer uk-text-right"},l.a.createElement("button",{className:"uk-button secondary-btn uk-modal-close uk-margin-small-right",type:"button"},"Cancel"),l.a.createElement("button",{className:"uk-button secondary-btn",type:"button",onClick:function(){h?window.location.replace("/battle/".concat(h,"/vs/").concat(v)):window.location.replace("/battle/".concat(s.champions[0],"/vs/").concat(v))}},"Battle")))))};var ie=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)({}),c=Object(u.a)(r,2),d=c[0],p=c[1];return Object(n.useEffect)((function(){b().then(function(){var e=Object(o.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a.data.id);case 2:t=e.sent,s(t.data),p({displayName:a.data.displayName,username:a.data.username,rank:a.data.rank,wins:a.data.wins,losses:a.data.losses});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){window.location.replace("/login"),console.log("Something went wrong. You are now logged out...",e)}))}),[]),l.a.createElement("div",{className:"user-profile-container"},l.a.createElement(ce,{displayName:d.displayName,username:d.username,rank:d.rank,wins:d.wins,losses:d.losses}),l.a.createElement("div",{className:"user-champions-container"},l.a.createElement("div",{className:"uk-flex uk-flex-middle uk-flex-between"},l.a.createElement("h3",null,"My Champions"),l.a.createElement("div",{className:"uk-flex"},l.a.createElement(m.b,{to:"/champions",className:"uk-button secondary-btn uk-margin-small-right"},"Search"),l.a.createElement(m.b,{to:"/create_champion",className:"uk-button secondary-btn"},"Create"))),l.a.createElement("div",{className:"champions-list-container uk-flex uk-flex-wrap"},t&&t.length>0?t.map((function(e){return l.a.createElement(re,{key:e._id||e.image,id:e._id,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,type:"user"})})):l.a.createElement("p",null,"Search for Champions to add or create your own!"))))};var oe=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(u.a)(r,2),m=c[0],d=c[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),k=f[0],h=f[1];Object(n.useEffect)((function(){w().then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[]);var g=Object(n.useRef)();function b(){return Math.floor(100*Math.random()+1)}function E(){return(E=Object(o.a)(i.a.mark((function e(a){var t,n,l,s,r,c,o,u,m,p,f,k,E,x,w,O,j,S,_,I,R;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=g.current.value.toLowerCase(),e.next=4,M(t);case 4:if(n=e.sent,console.log("Printing result from findAQuery (queryRes.data)...",n.data),!n.data||!n.data.results){e.next=14;break}return e.next=9,N(t);case 9:l=e.sent,console.log("Pringting results from findChampionsByQuery (champRes.data)...",l.data),d(l.data),e.next=63;break;case 14:return console.log("No results form database. Running api call now..."),e.next=17,C(t);case 17:if(s=e.sent,console.log("Printing results from api call...",s.data.results),s.data.results){e.next=26;break}return console.log("No results for this search."),h(!0),e.next=24,W({query:t,results:!1});case 24:e.next=63;break;case 26:return r=function(e,a,t){return((e+a+t)/30).toFixed()},e.next=29,W({query:t,results:!0});case 29:c=[],o=0;case 31:if(!(o<s.data.results.length)){e.next=61;break}return u=s.data.results[o],m=u.name,p=u.appearance.race,f=u.image.url,k=void 0,E=void 0,x=void 0,w=void 0,O=void 0,j=void 0,S=void 0,k="null"===u.powerstats.strength?b():u.powerstats.strength,E="null"===u.powerstats.power?b():u.powerstats.power,x="null"===u.powerstats.combat?b():u.powerstats.combat,w="null"===u.powerstats.intelligence?b():u.powerstats.intelligence,O="null"===u.powerstats.speed?b():u.powerstats.speed,j="null"===u.powerstats.durability?b():u.powerstats.durability,_=r(parseInt(k),parseInt(E),parseInt(x)),I=r(parseInt(w),parseInt(O),parseInt(j)),S="null"===u.powerstats.strength||"null"===u.powerstats.power||"null"===u.powerstats.combat||"null"===u.powerstats.intelligence||"null"===u.powerstats.speed||"null"===u.powerstats.durability,c.push({superHeroId:u.id,name:m,race:p,image:f,strength:k,power:E,combat:x,intelligence:w,speed:O,durability:j,attack:_,defense:I,nullStats:S}),e.next=55,y(u.id);case 55:R=e.sent,console.log("Find champion in db by superheroid. Printing result from findAChampionBySuperHeroId...",R),R.data?console.log("Champion found in database. Not adding..."):(console.log("Champion NOT in database. Adding now..."),v({superHeroId:u.id,name:m,race:p,image:f,strength:k,power:E,combat:x,intelligence:w,speed:O,durability:j,attack:_,defense:I,nullStats:S}).then((function(e){return console.log("Champion added to db...",e)})).catch((function(e){return console.log("Something went wrong while trying to add champion to db...",e)})));case 58:o++,e.next=31;break;case 61:d(c),console.log("New Results: ",c);case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement("section",{className:"uk-section champions-search-container"},l.a.createElement("div",{className:"uk-flex uk-flex-middle"},l.a.createElement("h2",null,"Search Champions"),l.a.createElement("form",{className:"uk-search uk-search-default uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s uk-width-1-1"},l.a.createElement("button",{className:"uk-search-icon-flip","uk-search-icon":"true",onClick:function(e){return E.apply(this,arguments)}}),l.a.createElement("input",{className:"uk-search-input",type:"search",placeholder:"Search for a champion",ref:g}))),l.a.createElement("div",{className:"champions-search-results uk-flex uk-flex-wrap"},m.length>0?m.map((function(e){return l.a.createElement(re,{key:e._id||e.image,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,nullStats:e.nullStats,type:"search"})})):k?l.a.createElement("p",{className:"uk-text-warning"},"No results found. Please try a different search!"):t.map((function(e){return l.a.createElement(re,{key:e._id||e.image,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,nullStats:e.nullStats,type:"search"})}))))};t(76);var ue=function(e){var a=Object(n.useState)({}),t=Object(u.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)([]),d=Object(u.a)(c,2),p=d[0],f=d[1],k=Object(n.useState)([]),h=Object(u.a)(k,2),g=h[0],E=h[1],x=Object(n.useState)(""),v=Object(u.a)(x,2),w=v[0],N=v[1],y=Object(n.useState)(""),j=Object(u.a)(y,2),S=j[0],C=j[1],_=Object(n.useState)({selected:!1,championId:""}),I=Object(u.a)(_,2),R=I[0],L=I[1];function U(){return(U=Object(o.a)(i.a.mark((function a(){var t,n,l;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.champions&&e.champions.length>0)){a.next=12;break}t=[],n=0;case 3:if(!(n<e.champions.length)){a.next=11;break}return a.next=6,O(e.champions[n]);case 6:l=a.sent,t.push(l.data);case 8:n++,a.next=3;break;case 11:E(t);case 12:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){U.apply(this,arguments)}(),function(){if(e.champions&&e.champions.length>1){var a=Math.floor(Math.random()*e.champions.length);C(e.champions[a])}else C(e.champions[0])}(),b().then((function(e){r({isLoggedIn:!0,champions:e.data.champions}),e.data.champions&&e.data.champions.length>0&&function(){for(var a=[],t=0;t<e.data.champions.length;t++)O(e.data.champions[t]).then((function(e){a.push(e.data),f(a)})).catch((function(e){console.log("Something went wrong while fetching the user's champions from useEffect...",e)}))}()})).catch((function(e){console.log(e),r({isLoggedIn:!1})}))}),[]),l.a.createElement("div",{className:"user-card uk-card"},l.a.createElement("div",{className:"user-info uk-flex"},l.a.createElement("div",{className:"user-image uk-flex uk-flex-center uk-flex-middle uk-margin-small-right"},l.a.createElement("img",{className:"uk-border-circle",src:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png",alt:"Avatar"})),l.a.createElement("div",{className:"uk-flex uk-flex-column"},l.a.createElement("h3",null,e.displayName),l.a.createElement("div",{className:"uk-flex"},l.a.createElement("div",{className:"user-info-container uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("p",{className:"stat-val"},e.rank),l.a.createElement("p",{className:"stat-label"},"R")),l.a.createElement("hr",{className:"uk-divider-vertical uk-margin-small-left uk-margin-small-right"}),l.a.createElement("div",{className:"user-info-container uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("p",{className:"stat-val"},e.wins),l.a.createElement("p",{className:"stat-label"},"W")),l.a.createElement("hr",{className:"uk-divider-vertical uk-margin-small-left uk-margin-small-right"}),l.a.createElement("div",{className:"user-info-container uk-flex uk-flex-column uk-flex-middle"},l.a.createElement("p",{className:"stat-val"},e.losses),l.a.createElement("p",{className:"stat-label"},"L"))))),l.a.createElement("div",{className:"uk-flex uk-flex-around uk-margin-top"},g&&g.length>0?g.map((function(e){return l.a.createElement("div",{key:e._id,className:"user-card-champion-image","uk-tooltip":e.name},l.a.createElement("img",{src:e.image,alt:e.name}))})):"No Champions"),l.a.createElement("div",{className:s.isLoggedIn?"user-card-links uk-flex uk-flex-between":"user-card-links uk-flex uk-flex-center"},l.a.createElement(m.b,{to:"/profile/".concat(e.username),className:"uk-button secondary-btn"},"Profile"),s.isLoggedIn&&e.champions&&e.champions.length>0&&s.champions.length>0?l.a.createElement("button",{"uk-toggle":"target: #user-champions-modal",className:"uk-button secondary-btn"},"Battle"):""),l.a.createElement("div",{id:"user-champions-modal","uk-modal":"true"},l.a.createElement("div",{className:"user-champions-modal-wrapper uk-modal-dialog"},l.a.createElement("button",{className:"uk-modal-close-default",type:"button","uk-close":"true"}),l.a.createElement("div",{className:"uk-modal-header"},l.a.createElement("h2",{className:"uk-modal-title"},"My Champions"),l.a.createElement("p",null,"Select one of your champions to go into battle.")),l.a.createElement("div",{className:"uk-modal-body uk-flex uk-width-1-1"},s.champions&&s.champions.length>0?p.map((function(e){return l.a.createElement(re,{key:e._id||e.image,id:e._id,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,type:"battle",handleSelect:function(){return a=e._id,N(a),void L({selected:!0,championId:a});var a},selected:R.selected,selectedId:R.championId})})):l.a.createElement("p",null,"Search for Champions to add or create your own!")),l.a.createElement("div",{className:"uk-modal-footer uk-text-right"},l.a.createElement("button",{className:"uk-button secondary-btn uk-modal-close uk-margin-small-right",type:"button"},"Cancel"),l.a.createElement("button",{className:"uk-button secondary-btn",type:"button",onClick:function(){w?window.location.replace("/battle/".concat(w,"/vs/").concat(S)):window.location.replace("/battle/".concat(s.champions[0],"/vs/").concat(S))}},"Battle")))))},me=l.a.createContext({loggedIn:!1,id:"",username:"",rank:0,wins:0,losses:0,champions:[]});var de=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],s=a[1],r=Object(n.useContext)(me).id,c=Object(n.useRef)();return Object(n.useEffect)((function(){r?L(r).then((function(e){console.log("User logged in...from UsersSearch...printing usersDB.data...",e.data),s(e.data)})).catch((function(e){return console.log(e)})):_().then((function(e){console.log("User not logged in...from UsersSearch...printing usersDB.data...",e.data),s(e.data)})).catch((function(e){return console.log(e)}))}),[r]),l.a.createElement("section",{className:"uk-section users-search-container"},l.a.createElement("div",{className:"uk-flex uk-flex-middle"},l.a.createElement("h2",null,"Search Users"),l.a.createElement("form",{className:"uk-search uk-search-default uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s uk-width-1-1"},l.a.createElement("button",{className:"uk-search-icon-flip","uk-search-icon":"true",type:"submit",onClick:function(e){e.preventDefault();var a=c.current.value;A(a).then((function(e){s(e.data)})).catch((function(e){console.log("Something went wrong during the search...",e)}))}}),l.a.createElement("input",{className:"uk-search-input",type:"search",placeholder:"Search for a user",ref:c}))),l.a.createElement("div",{className:"users-search-results uk-flex uk-flex-wrap"},t&&t.length>0?t.map((function(e){return l.a.createElement(ue,{key:e._id,displayName:e.displayName,username:e.username,rank:e.rank,wins:e.wins,losses:e.losses,champions:e.champions})})):l.a.createElement("p",{className:"uk-text-warning"},"No users found by that query. Please try a different one.")))};var pe=function(){var e=Object(d.f)().username,a=Object(n.useState)({}),t=Object(u.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)([]),m=Object(u.a)(c,2),p=m[0],f=m[1];return Object(n.useEffect)((function(){R(e).then(function(){var e=Object(o.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a.data[0]._id);case 2:t=e.sent,f(t.data),r({displayName:a.data[0].displayName,username:a.data[0].username,rank:a.data[0].rank,wins:a.data[0].wins,losses:a.data[0].losses,champions:a.data[0].champions});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}),[e]),l.a.createElement("div",{className:"user-profile-container"},l.a.createElement(ce,{displayName:s.displayName,username:e,rank:s.rank,wins:s.wins,losses:s.losses,champions:s.champions,type:"otherUser"}),l.a.createElement("div",{className:"user-champions-container"},l.a.createElement("div",{className:"uk-flex uk-flex-middle uk-flex-between"},l.a.createElement("h3",null,"Champions")),l.a.createElement("div",{className:"champions-list-container uk-flex uk-flex-wrap"},p&&p.length>0?p.map((function(e){return l.a.createElement(re,{key:e._id||e.image,id:e._id,name:e.name,image:e.image,strength:e.strength,power:e.power,combat:e.combat,intelligence:e.intelligence,speed:e.speed,durability:e.durability,attack:e.attack,defense:e.defense,type:"otherUser"})})):l.a.createElement("p",null,"This user has no champions yet."))))},fe=t(14);t(77);var ke=function(e){return l.a.createElement("div",{className:"user"===e.type?"healthbar-wrapper uk-flex uk-flex-middle uk-margin-large-bottom":"healthbar-wrapper uk-flex uk-flex-row-reverse uk-flex-middle uk-margin-large-bottom"},l.a.createElement("div",{className:"user"===e.type?"battle-user-avatar uk-flex uk-flex-center uk-flex-middle":"battle-other-user-avatar uk-flex uk-flex-center uk-flex-middle"},l.a.createElement("img",{src:e.image,alt:"Avatar"})),l.a.createElement("div",{className:"user"===e.type?"uk-flex uk-flex-column":"uk-flex uk-flex-column uk-flex-bottom"},l.a.createElement("p",{className:"battle-champion-name"},e.name),l.a.createElement("div",{className:"user"===e.type?"healthbar-container uk-flex uk-flex-middle":"healthbar-container uk-flex uk-flex-row-reverse uk-flex-middle"},l.a.createElement("div",{className:"user"===e.type?"healthbar-bar-border uk-flex uk-flex-left":"healthbar-bar-border-reverse uk-flex uk-flex-right"},l.a.createElement("div",{className:"healthbar-bar",style:{width:"".concat(e.health,"%")}})),l.a.createElement("div",{className:"healthbar-val"},l.a.createElement("p",null,e.health)))))};var he=function(){var e=Object(n.useState)({started:!1,timerDone:!1,textDisplay:"",gameEnded:!1}),a=Object(u.a)(e,2),t=a[0],s=a[1],r=Object(d.f)(),c=r.userid,m=r.otheruserid,p=Object(n.useState)({}),f=Object(u.a)(p,2),k=f[0],h=f[1],g=Object(n.useState)({}),b=Object(u.a)(g,2),E=b[0],x=b[1],v=Object(n.useState)(),w=Object(u.a)(v,2),N=w[0],y=w[1],j=Object(n.useState)({}),S=Object(u.a)(j,2),C=S[0],_=S[1],I=Object(n.useState)(),R=Object(u.a)(I,2),L=R[0],A=R[1],M=Object(n.useState)(),W=Object(u.a)(M,2),F=W[0],Y=W[1],H=Object(n.useState)(),q=Object(u.a)(H,2),J=q[0],z=q[1],G=Object(n.useState)({}),Q=Object(u.a)(G,2),K=Q[0],$=Q[1],V=Object(n.useState)(),X=Object(u.a)(V,2),Z=X[0],ee=X[1],ae=Object(n.useState)(),te=Object(u.a)(ae,2),ne=te[0],le=te[1],se=Object(n.useState)(),ce=Object(u.a)(se,2),ie=ce[0],oe=ce[1];function ue(){return(ue=Object(o.a)(i.a.mark((function e(){var a,t,n,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(c);case 3:return a=e.sent,e.next=6,O(m);case 6:return t=e.sent,_(a.data),$(t.data),Y(a.data.attack),A(100),le(t.data.attack),ee(100),e.next=15,U(a.data.user);case 15:return n=e.sent,e.next=18,U(t.data.user);case 18:l=e.sent,h(n.data),x(l.data),console.log("useEffect running...from battle...userDataRes.data...",n.data),console.log("useEffect running...from battle...otherDataRes.data...",l.data),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.log("Something went wrong...could not loadChampionsAndUsers...",e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){ue.apply(this,arguments)}()}),[]);var me=Object(n.useState)(3),de=Object(u.a)(me,2),pe=de[0],he=de[1],ge=0,be=100,Ee=100;function xe(){return(xe=Object(o.a)(i.a.mark((function e(){var a,t,n,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(k._id);case 2:return a=e.sent,e.next=5,P(E._id);case 5:return t=e.sent,e.next=8,B(k._id);case 8:return n=e.sent,e.next=11,B(E._id);case 11:return l=e.sent,console.log("updateOnUserWin...newWinsUser: ",a," - newWinsOther: ",t," - newTotalBattleUser: ",n," - newTotalBattleOther: ",l),h(n.data),x(l.data),e.next=17,T(k._id,{winsPercent:(n.data.wins/n.data.totalBattle*100).toFixed()});case 17:return e.next=19,T(E._id,{winsPercent:(l.data.wins/l.data.totalBattle*100).toFixed()});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=Object(o.a)(i.a.mark((function e(){var a,t,n,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(k._id);case 2:return a=e.sent,e.next=5,D(E._id);case 5:return t=e.sent,e.next=8,B(k._id);case 8:return n=e.sent,e.next=11,B(E._id);case 11:return l=e.sent,console.log("updateOnOtherWin...newWinsUser: ",a," - newWinsOther: ",t," - newTotalBattleUser: ",n," - newTotalBattleOther: ",l),h(n.data),x(l.data),e.next=17,T(k._id,{winsPercent:(n.data.wins/n.data.totalBattle*100).toFixed()});case 17:return e.next=19,T(E._id,{winsPercent:(l.data.wins/l.data.totalBattle*100).toFixed()});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){be<=0?(s({started:!0,timerDone:!0,textDisplay:"You lose.",gameEnded:!0}),function(){ve.apply(this,arguments)}()):Ee<=0&&(s({started:!0,timerDone:!0,textDisplay:"You win!",gameEnded:!0}),function(){xe.apply(this,arguments)}())}function Ne(){setTimeout((function(){ye()}),500)}function ye(){0===ge?(!function(){console.log("------------------------------------------"),console.log("Player 1 attacks"),console.log("userAtk: ",F);var e=Math.floor(Math.random()*K.defense+1);console.log("otherDef: ",e);var a=F-e;console.log("damage: ",a),a>=0?(oe(a),y(!0),(Ee-=a)<=0?(ee(0),console.log("otherHealth: ",Ee)):(ee(Ee),console.log("otherHealth: ",Ee))):(oe(0),y(!0))}(),ge=1,Ee<=0||be<=0?(we(),console.log("You win!")):Ne()):1===ge&&(!function(){console.log("------------------------------------------"),console.log("Player 2 attacks"),console.log("otherAtk: ",ne);var e=Math.floor(Math.random()*C.defense+1);console.log("userDef: ",e);var a=ne-e;console.log("damage: ",a),a>=0?(z(a),y(!1),(be-=a)<=0?(A(0),console.log("userHealth: ",be)):(A(be),console.log("userHealth: ",be))):(z(0),y(!1))}(),ge=0,be<=0||Ee<=0?(we(),console.log("You lose.")):Ne())}return l.a.createElement("section",{className:"battle-container uk-flex uk-flex-column uk-flex-middle uk-position-relative"},l.a.createElement("div",{className:"uk-flex uk-flex-top uk-width-expand uk-flex-between"},l.a.createElement("div",{className:"uk-flex uk-flex-column uk-flex-middle uk-position-relative"},N?"":l.a.createElement("span",{className:"health-damage uk-position-absolute",style:{display:t.gameEnded?"none":"block"}},J),l.a.createElement(ke,{type:"user",image:C.image,name:C.name,health:L}),l.a.createElement(re,{type:"none",name:C.name,image:C.image,attack:C.attack,defense:C.defense,strength:C.strength,combat:C.combat,power:C.power,intelligence:C.intelligence,durability:C.durability,speed:C.speed}),l.a.createElement("span",{className:"battle-user-name"},l.a.createElement("span",{"uk-icon":"icon: user; ratio: .8"})," ",k.username)),l.a.createElement("div",{className:"battle-vs uk-flex uk-flex-column uk-flex-middle uk-margin-large-top"},t.timerDone?"":"".concat(pe),l.a.createElement("div",{className:"battle-text uk-position-fixed"},t.textDisplay)),l.a.createElement("div",{className:"uk-flex uk-flex-column uk-flex-middle uk-position-relative"},N?l.a.createElement("span",{className:"health-damage uk-position-absolute",style:{display:t.gameEnded?"none":"block"}},ie):"",l.a.createElement(ke,{type:"otherUser",image:K.image,name:K.name,health:Z}),l.a.createElement(re,{type:"none",name:K.name,image:K.image,attack:K.attack,defense:K.defense,strength:K.strength,combat:K.combat,power:K.power,intelligence:K.intelligence,durability:K.durability,speed:K.speed}),l.a.createElement("span",{className:"battle-user-name"},l.a.createElement("span",{"uk-icon":"icon: user; ratio: .8"})," ",E.username))),l.a.createElement("button",{className:"uk-button primary-btn",style:{display:t.started?"none":"block"},onClick:function(){s(Object(fe.a)(Object(fe.a)({},t),{},{started:!0})),function(){var e=3,a=setInterval((function(){e<=0?(clearInterval(a),s({started:!0,timerDone:!0,textDisplay:"FIGHT!"})):e--,he(e)}),1e3);setTimeout((function(){ye()}),5e3)}(),setTimeout((function(){s(Object(fe.a)(Object(fe.a)({},t),{},{started:!0}))}),1e3)}},"Start"),l.a.createElement("button",{className:"uk-button secondary-btn",style:{display:t.gameEnded?"block":"none"},onClick:function(){window.location.replace("/users")}},"Leave"))};t(78);var ge=function(e){var a=e.id,t=e.rank,s=e.displayName,r=e.wins,c=e.losses,i=e.totalBattle,o=e.winsPercent;return Object(n.useEffect)((function(){T(a,{rank:t}).then((function(e){console.log(e.data)})).catch((function(e){console.log("Something went wrong inside the RankingRow component...",e)}))}),[]),l.a.createElement("tr",null,l.a.createElement("td",null,t),l.a.createElement("td",null,s),l.a.createElement("td",null,r),l.a.createElement("td",null,c),l.a.createElement("td",null,i),l.a.createElement("td",null,o,"%"))};var be=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],s=a[1];return Object(n.useEffect)((function(){I().then((function(e){console.log("useEffect from Ranking ran...printing res.data",e.data),s(e.data)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("section",{className:"ranking-container uk-section"},l.a.createElement("h2",null,"Ranking"),l.a.createElement("table",{className:"uk-table uk-table-responsive uk-table-hover uk-table-middle uk-table-divider"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"uk-width-small"},"Rank"),l.a.createElement("th",{className:"uk-width-large"},"Username"),l.a.createElement("th",null,"Wins"),l.a.createElement("th",null,"Losses"),l.a.createElement("th",null,"# Battles"),l.a.createElement("th",null,"% Wins"))),l.a.createElement("tbody",null,t.length>0?t.map((function(e,a){return l.a.createElement(ge,{key:e._id,id:e._id,rank:a+1,displayName:e.displayName,username:e.username,wins:e.wins,losses:e.losses,totalBattle:e.totalBattle,winsPercent:e.winsPercent})})):l.a.createElement("tr",null,l.a.createElement("td",{className:"uk-text-nowrap uk-text-muted"},"Battle 20 times to be in the ranking!"),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",null)))))};t(79);var Ee=function(){var e=Object(n.useState)({}),a=Object(u.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!1),c=Object(u.a)(r,2),m=c[0],d=c[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),k=f[0],h=f[1],g=Object(n.useState)(!1),x=Object(u.a)(g,2),w=x[0],N=x[1];Object(n.useEffect)((function(){b().then((function(e){s({isLoggedIn:!0,id:e.data.id,champions:e.data.champions})})).catch((function(e){console.log("Something went wrong when trying to get the user's data...",e),s({isLoggedIn:!1})}))}),[]);var y=Object(n.useRef)(),O=Object(n.useRef)(),j=Object(n.useRef)();function S(){return Math.floor(100*Math.random()+1)}function C(e,a,t){return((e+a+t)/30).toFixed()}var _=S(),I=S(),R=S(),L=S(),U=S(),D=S(),P=C(_,I,R),B=C(L,U,D);function T(){return(T=Object(o.a)(i.a.mark((function e(a){var n,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,!(t.champions.length<3)){e.next=20;break}if(!y.current.value||!O.current.value){e.next=16;break}return e.next=6,v({user:t.id,name:y.current.value,image:O.current.value,race:j.current.value,strength:_,power:I,combat:R,intelligence:L,speed:U,durability:D,attack:P,defense:B});case 6:return n=e.sent,console.log("handleAdd worked...printing newUserChampion...",n),e.next=10,E(t.id,n.data._id);case 10:l=e.sent,console.log("handleAdd worked...printing updatedList...",l),h(!0),window.location.replace("/profile"),e.next=18;break;case 16:N(!0),setTimeout((function(){N(!1)}),4e3);case 18:e.next=23;break;case 20:console.log("You've reached the max number of champions on your list! Please make room if you'd like to add another."),d(!0),setTimeout((function(){d(!1)}),4e3);case 23:e.next=30;break;case 25:e.prev=25,e.t0=e.catch(1),console.log("Add failed: ",e.t0),N(!0),setTimeout((function(){N(!1)}),3e3);case 30:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)}return l.a.createElement("form",{className:"create-champion-form uk-flex uk-flex-column uk-flex-middle uk-height-1-1"},l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: user"}),l.a.createElement("input",{className:"uk-input",type:"text",placeholder:"champion_name",ref:y}))),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: image"}),l.a.createElement("input",{className:"uk-input",type:"text",placeholder:"image_url",ref:O}))),l.a.createElement("div",{className:"uk-margin-small uk-width-expand"},l.a.createElement("div",{className:"uk-inline uk-width-expand"},l.a.createElement("span",{className:"uk-form-icon","uk-icon":"icon: reddit"}),l.a.createElement("input",{className:"uk-input",type:"text",placeholder:"race",ref:j}))),l.a.createElement("div",{className:"uk-margin-small"},l.a.createElement("button",{className:"uk-button primary-btn",type:"submit",onClick:function(e){return T.apply(this,arguments)}},"Create")),m?l.a.createElement("div",{className:"max-reached-alert uk-alert-danger uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast","uk-alert":"true"},l.a.createElement("p",null,"You've reached the max of 3 champions! Please make room if you'd like to add another.")):"",k?l.a.createElement("div",{className:"champion-added-alert uk-alert-success uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast","uk-alert":"true"},l.a.createElement("p",null,"Champion successfuly added to your list!")):"",w?l.a.createElement("div",{className:"max-reached-alert uk-alert-danger uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast","uk-alert":"true"},l.a.createElement("p",null,"Please fill in all the fields.")):"")};var xe=function(){return l.a.createElement("section",{className:"create-container uk-section"},l.a.createElement("h2",null,"Create a Champion"),l.a.createElement(Ee,null))};var ve=function(){var e=Object(n.useState)({}),a=Object(u.a)(e,2),t=a[0],s=a[1];function r(){return(r=Object(o.a)(i.a.mark((function e(){var a,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getUserData() ran..."),e.next=3,b();case 3:a=e.sent,t=a.data,console.log("Running getUserData() from App.js...",t),s(t?{loggedIn:!0,id:t.id,username:t.username,rank:t.rank,wins:t.wins,losses:t.losses,champions:t.champions}:{loggedIn:!1,id:"",username:"",rank:0,wins:0,losses:0,champions:[]});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(me.Provider,{value:t},l.a.createElement(F,null),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/"},l.a.createElement(ee,null)),l.a.createElement(d.a,{path:"/login"},l.a.createElement(ne,null)),l.a.createElement(d.a,{path:"/signup"},l.a.createElement(se,null)),l.a.createElement(d.a,{exact:!0,path:"/profile"},l.a.createElement(ie,null)),l.a.createElement(d.a,{path:"/champions"},l.a.createElement(oe,null)),l.a.createElement(d.a,{path:"/users"},l.a.createElement(de,null)),l.a.createElement(d.a,{path:"/profile/:username"},l.a.createElement(pe,null)),l.a.createElement(d.a,{path:"/battle/:userid/vs/:otheruserid"},l.a.createElement(he,null)),l.a.createElement(d.a,{path:"/ranking"},l.a.createElement(be,null)),l.a.createElement(d.a,{path:"/create_champion"},l.a.createElement(xe,null))),l.a.createElement(ae,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[37,1,2]]]);
//# sourceMappingURL=main.724225da.chunk.js.map