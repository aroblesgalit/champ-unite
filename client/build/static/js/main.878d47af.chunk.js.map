{"version":3,"sources":["utils/API.js","components/Header/index.js","components/Hero/index.js","components/Features/index.js","pages/Homepage.js","components/Footer/index.js","components/LoginForm/index.js","pages/Login.js","components/SignupForm/index.js","pages/Signup.js","components/ChampionCard/index.js","components/ProfileHeader/index.js","pages/UserProfile.js","pages/ChampionsSearch.js","components/UserCard/index.js","utils/UserContext.js","pages/UsersSearch.js","pages/OtherUserProfile.js","components/HealthBar/index.js","pages/Battle.js","components/RankingRow/index.js","pages/Ranking.js","components/CreateChampionForm/index.js","pages/CreateChampion.js","App.js","serviceWorker.js","index.js"],"names":["require","config","data","axios","post","get","id","champion","put","user","query","delete","queryUrl","process","Promise","resolve","reject","then","res","catch","err","username","Header","useState","setUser","useEffect","API","isLoggedIn","console","log","className","uk-navbar","to","onClick","Hero","Features","src","alt","Homepage","Footer","href","target","rel","uk-icon","LoginForm","usernameRef","useRef","passwordRef","loginFailed","setLoginFailed","type","placeholder","ref","e","preventDefault","current","value","password","window","location","replace","setTimeout","Login","SignupForm","confirmPasswordRef","signupFailed","setSignupFailed","missingFields","setMissingFields","passNotMatch","setPassNotMatch","shortPass","setShortPass","confirmPassword","length","Signup","ChampionCard","props","champions","maxReached","setMaxReached","championAdded","setChampionAdded","calcBarWidth","a","nullStats","calcBattleStat","b","c","toFixed","strength","generateStat","Math","floor","random","power","combat","intelligence","speed","durability","attack","defense","name","image","newUserChampion","_id","reload","style","selected","selectedId","border","uk-alert","handleSelect","uk-tooltip","width","ProfileHeader","userChampions","setUserChampions","userChampionId","setUserChampionId","otherChampionId","setOtherChampionId","championId","championSelected","setChampionSelected","newArr","i","push","rank","wins","losses","uk-toggle","getUserChampions","champId","chooseOtherChampion","uk-modal","uk-close","map","key","UserProfile","championList","setChampionList","ChampionsSearch","championsDB","setChampionsDB","searchResults","setSearchResults","noResults","setNoResults","searchRef","toLowerCase","queryRes","results","champRes","heroesResults","newResults","race","appearance","url","powerstats","parseInt","superHeroId","superheroIdRes","dbModel","uk-search-icon","UserCard","UserContext","React","createContext","loggedIn","UsersSearch","users","setUsers","useContext","usersDB","usernameQuery","OtherUserProfile","useParams","otherUser","setOtherUser","userDB","HealthBar","health","Battle","started","timerDone","textDisplay","gameEnded","battleStats","setBattleStats","userid","otheruserid","userData","setUserData","otherData","setOtherData","userAtkTurn","setUserAtkTurn","userChampion","setUserChampion","userHealth","setUserHealth","userAttack","setUserAttack","userDamage","setUserDamage","otherChampion","setOtherChampion","otherHealth","setOtherHealth","otherAttack","setOtherAttack","otherDamage","setOtherDamage","userChamp","otherChamp","userDataRes","otherDataRes","loadChampionsAndUsers","timeLeft","setTimeLeft","playerTurn","userHealthInit","otherHealthInit","newWinsUser","newWinsOther","newTotalBattleUser","newTotalBattleOther","winsPercent","totalBattle","endGame","updateOnOtherWin","updateOnUserWin","startBattleAgain","startBattle","otherDef","damage","userTurn","userDef","otherTurn","display","currentTime","countDown","setInterval","clearInterval","RankingRow","Ranking","rankedUsers","setRankedUsers","rankedUser","CreateChampionForm","createFailed","setCreateFailed","nameRef","imageRef","raceRef","updatedList","CreateChampion","App","getUserData","Provider","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.878d47af.chunk.js","sourcesContent":["import axios from \"axios\";\r\nrequire(\"dotenv\").config();\r\n\r\nexport default {\r\n    signupUser: function (data) {\r\n        return axios.post(\"/api/users/signup\", data);\r\n    },\r\n    loginUser: function (data) {\r\n        return axios.post(\"/api/users/login\", data);\r\n    },\r\n    logoutUser: function () {\r\n        return axios.get(\"/api/users/logout\");\r\n    },\r\n    getUserData: function () {\r\n        return axios.get(\"/api/users/user_data\");\r\n    },\r\n    // Add to user's champions\r\n    updateUserChampions: function (id, champion) {\r\n        return axios.put(\"/api/users/\" + id + \"/\" + champion);\r\n    },\r\n    // Update user's champions by removing an id from the array\r\n    removeChampionFromUser: function(user, champion) {\r\n        return axios.put(\"/api/users/champions/\" + user + \"/\" + champion)\r\n    },\r\n    // searchHeroes: function (query) {\r\n    //     return axios.get(\"/api/heroes/\" + query);\r\n    // }\r\n    addChampion: function (data) {\r\n        return axios.post(\"/api/champions\", data);\r\n    },\r\n    getAllChampions: function () {\r\n        return axios.get(\"/api/champions\")\r\n    },\r\n    // getChampionsByQuery: function (query) {\r\n    //     return axios.get(\"/api/champions/query/\" + query)\r\n    // },\r\n    findChampionsByQuery: function(query) {\r\n        return axios.get(\"/api/champions/query/\" + query)\r\n    },\r\n    findAChampionBySuperHeroId: function (id) {\r\n        return axios.get(\"/api/champions/superhero_id/\" + id);\r\n    },\r\n    getChampionById: function(id) {\r\n        return axios.get(\"/api/champions/\" + id)\r\n    },\r\n    getChampionsByUserId: function(id) {\r\n        return axios.get(\"/api/champions/user/\" + id)\r\n    },\r\n    removeChampion: function(id) {\r\n        return axios.delete(\"/api/champions/\" + id);\r\n    },\r\n    // searchHeroes: function (query) {\r\n    //     return axios.get(\"/api/heroes/\" + query);\r\n    // }\r\n    searchHeroes: function (query) {\r\n        const accessToken = process.env.REACT_APP_ACCESS_TOKEN;\r\n\r\n        let queryUrl = `https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/${accessToken}/search/${query}`;\r\n        return new Promise((resolve, reject) => {\r\n            axios\r\n                .get(queryUrl)\r\n                .then(res => {\r\n                    const heroes = res;\r\n                    resolve(heroes);\r\n                })\r\n                .catch(err => reject(err));\r\n        })\r\n    },\r\n    // Get all users\r\n    getAllUsers: function() {\r\n        return axios.get(\"/api/users\");\r\n    },\r\n    // Get all users for ranking\r\n    getAllUsersForRanking: function() {\r\n        return axios.get(\"/api/users/ranking\");\r\n    },\r\n    // Get a user by the username\r\n    getUserByUsername: function(username) {\r\n        return axios.get(\"/api/users/\" + username);\r\n    },\r\n    // Get all users but one\r\n    getAllUsersButOne: function(id) {\r\n        return axios.get(\"/api/users/search/\" + id);\r\n    },\r\n    // Get a user by _id\r\n    getUserById: function(id) {\r\n        return axios.get(\"/api/users/id/\" + id);\r\n    },\r\n    // Update user's wins\r\n    increaseUserWins: function(id) {\r\n        return axios.put(\"/api/users/update/wins/\" + id);\r\n    },\r\n    // Update user's losses\r\n    increaseUserLosses: function(id) {\r\n        return axios.put(\"/api/users/update/losses/\" + id);\r\n    },\r\n    // Update user's totalBattle\r\n    increaseTotalBattle: function(id) {\r\n        return axios.put(\"/api/users/update/total_battle/\" + id);\r\n    },\r\n    // Update user's winsPercent\r\n    updateWinsPercent: function(id, data) {\r\n        return axios.put(\"/api/users/update/wins_percent/\" + id, data);\r\n    },\r\n    // Get users by a search username query\r\n    getUsersBySearch: function(username) {\r\n        return axios.get(\"/api/users/search_by_username/\" + username);\r\n    },\r\n    findAQuery: function(query) {\r\n        return axios.get(\"/api/queries/\" + query);\r\n    },\r\n    addAQuery: function(data) {\r\n        return axios.post(\"/api/queries\", data);\r\n    }\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\n\r\nfunction Header() {\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        API.getUserData()\r\n            .then(user => {\r\n                setUser({\r\n                    isLoggedIn: true\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setUser({\r\n                    isLoggedIn: false\r\n                });\r\n            })\r\n    }, []);\r\n\r\n    function handleLogout() {\r\n        API.logoutUser()\r\n            .then(() => {\r\n                console.log(\"User logged out.\");\r\n                setUser({\r\n                    isLoggedIn: false\r\n                });\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <nav className=\"uk-navbar-container uk-navbar-transparent uk-light\" uk-navbar=\"true\">\r\n                <div className=\"uk-navbar-left\">\r\n                    <Link className=\"uk-navbar-item uk-logo\" to=\"/\">ChampUnite</Link>\r\n                    <ul className=\"uk-navbar-nav\">\r\n                        <li><Link to=\"/Ranking\">Ranking</Link></li>\r\n                        <li><Link to=\"/users\">Users</Link></li>\r\n                        <li><Link to=\"/champions\">Champions</Link></li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"uk-navbar-right\">\r\n                    {\r\n                        user.isLoggedIn ? (\r\n                            <ul className=\"uk-navbar-nav\">\r\n                                <li>\r\n                                    <Link to=\"/profile\">Profile</Link>\r\n                                </li>\r\n                                <li>\r\n                                    <Link to=\"/login\" onClick={handleLogout} >Logout</Link>\r\n                                </li>\r\n                            </ul>\r\n                        ) : (\r\n                                <ul className=\"uk-navbar-nav\">\r\n                                    <li>\r\n                                        <Link to=\"/login\">Login</Link>\r\n                                    </li>\r\n                                </ul>\r\n                            )\r\n                    }\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nfunction Hero() {\r\n    return (\r\n        <div className=\"home-hero uk-inline uk-background-fixed uk-background-center uk-height-large uk-flex uk-flex-top uk-width-expand\">\r\n            <div className=\"hero-overlay uk-position-cover\"></div>\r\n            <div className=\"hero-text uk-width-1-2@m uk-text-center uk-margin-auto uk-margin-auto-vertical\">\r\n                <h1>ChampUnite</h1>\r\n                <p>\r\n                    Create your champion(s) now and battle against other users on a one-to-one match.\r\n                </p>\r\n                <Link to=\"/signup\" className=\"uk-button primary-btn\">Sign up</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Hero;","import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction Features() {\r\n    return (\r\n        <section className=\"features-container uk-section uk-flex uk-child-width-1-2@s\">\r\n            <div className=\"features-left uk-flex uk-flex-column uk-flex-middle\">\r\n                <h2>Features</h2>\r\n                <img src=\"https://www.hello.com/world.png\" alt=\"Features\" />\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Features;","import React from \"react\";\r\nimport Hero from \"../components/Hero\";\r\nimport Features from \"../components/Features\";\r\nimport \"./pages.css\";\r\n\r\nfunction Homepage() {\r\n    return (\r\n        <div className=\"home-container\">\r\n            <Hero />\r\n            <Features />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Homepage;","import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"uk-height-small uk-flex uk-flex-column uk-flex-center uk-flex-middle uk-width-expand uk-light\">\r\n            <div className=\"social-links uk-flex uk-flex-between\">\r\n                <a href=\"https://github.com/aroblesgalit\" target=\"_blank\" rel=\"noopener noreferrer\"><span uk-icon=\"icon: github\" className=\"uk-icon\"></span></a>\r\n                <a href=\"https://www.linkedin.com/in/aroblesgalit/\" target=\"_blank\" rel=\"noopener noreferrer\"><span uk-icon=\"icon: linkedin\" className=\"uk-icon\"></span></a>\r\n            </div>\r\n            <p className=\"uk-text-small\">© 2020 Alvin Galit</p>\r\n            <a className=\"uk-text-small\" href='https://www.freepik.com/free-photos-vectors/sport'>Sport vector created by starline - www.freepik.com</a>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\n\r\nfunction LoginForm() {\r\n\r\n    const usernameRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const [loginFailed, setLoginFailed] = useState(false);\r\n\r\n    function handleAlertClose() {\r\n        setTimeout(() => {\r\n            setLoginFailed(false);\r\n        }, 3000);\r\n    };\r\n\r\n    function handleLogin(e) {\r\n        e.preventDefault();\r\n\r\n        const username = usernameRef.current.value;\r\n        const password = passwordRef.current.value;\r\n\r\n        API.loginUser({\r\n            username: username,\r\n            password: password\r\n        })\r\n            .then(function (res) {\r\n                window.location.replace(\"/profile\");\r\n                // console.log(\"Login successful! Printing res...\", res);\r\n                console.log(\"You are now logged in.\");\r\n            })\r\n            .catch(function (err) {\r\n                console.log(\"Something went wrong during login...\", err);\r\n                setLoginFailed(true);\r\n            });\r\n\r\n        handleAlertClose();\r\n    }\r\n\r\n    return (\r\n        <form className=\"login-form uk-flex uk-flex-column uk-flex-middle uk-height-1-1\">\r\n            <h2>Login</h2>\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: user\"></span>\r\n                    <input className=\"uk-input\" type=\"text\" placeholder=\"champion201\" ref={usernameRef} />\r\n                </div>\r\n            </div>\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: lock\"></span>\r\n                    <input className=\"uk-input\" type=\"password\" placeholder=\"******\" ref={passwordRef} />\r\n                </div>\r\n            </div>\r\n            {loginFailed ? (\r\n                <p className=\"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right\">Login failed.</p>\r\n            ) : \"\"}\r\n            <div className=\"uk-margin-small\">\r\n                <button className=\"uk-button primary-btn\" type=\"submit\" onClick={handleLogin}>Log in</button>\r\n            </div>\r\n            <p className=\"signup-login-text\">\r\n                Don't have an account? <Link to=\"/signup\"><span>Sign up here now.</span></Link>\r\n            </p>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default LoginForm;","import React from \"react\";\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport \"./pages.css\";\r\n\r\nfunction Login() {\r\n    return (\r\n        <div className=\"login-container uk-background-cover uk-flex uk-flex-center\">\r\n            <LoginForm />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\n\r\nfunction SignupForm() {\r\n\r\n    const usernameRef = useRef();\r\n    const passwordRef = useRef();\r\n    // const emailRef = useRef();\r\n    const confirmPasswordRef = useRef();\r\n\r\n    const [signupFailed, setSignupFailed] = useState(false);\r\n    const [missingFields, setMissingFields] = useState(false);\r\n    const [passNotMatch, setPassNotMatch] = useState(false);\r\n    const [shortPass, setShortPass] = useState(false);\r\n\r\n    function handleSignup(e) {\r\n        e.preventDefault();\r\n\r\n        const username = usernameRef.current.value;\r\n        // const email = emailRef.current.value;\r\n        const password = passwordRef.current.value;\r\n        const confirmPassword = confirmPasswordRef.current.value;\r\n\r\n        if (username && password && confirmPassword) {\r\n            if (password.length >= 6) {\r\n                if (password === confirmPassword) {\r\n                    API.signupUser({\r\n                        username: username,\r\n                        password: password\r\n                        // email: email\r\n                    })\r\n                        .then(function (res) {\r\n                            console.log(\"User is signed up...\", res);\r\n                            window.location.replace(\"/profile\");\r\n                        })\r\n                        .catch(function (err) {\r\n                            console.log(\"Failed signup...\", err);\r\n                            setSignupFailed(true);\r\n                        });\r\n                } else {\r\n                    setPassNotMatch(true);\r\n                }\r\n            } else {\r\n                setShortPass(true);\r\n            }\r\n        } else {\r\n            setMissingFields(true);\r\n        }\r\n        handleAlertClose();\r\n    };\r\n\r\n    function handleAlertClose() {\r\n        setTimeout(() => {\r\n            setSignupFailed(false);\r\n            setMissingFields(false);\r\n            setPassNotMatch(false);\r\n            setShortPass(false);\r\n        }, 3000);\r\n    };\r\n\r\n    return (\r\n        <form className=\"signup-form uk-flex uk-flex-column uk-flex-middle uk-height-1-1\">\r\n            <h2>Signup</h2>\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: user\"></span>\r\n                    <input className=\"uk-input\" type=\"text\" placeholder=\"champion201\" ref={usernameRef} />\r\n                </div>\r\n                {signupFailed ? (\r\n                        <p className=\"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right\">Username is taken.</p>\r\n                ) : \"\"}\r\n            </div>\r\n            {\r\n                // <div className=\"uk-margin-small uk-width-expand\">\r\n                //     <div className=\"uk-inline uk-width-expand\">\r\n                //         <span className=\"uk-form-icon\" uk-icon=\"icon: mail\"></span>\r\n                //         <input className=\"uk-input\" type=\"text\" placeholder=\"champion201@email.com\" ref={emailRef} />\r\n                //     </div>\r\n                // </div>\r\n            }\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: lock\"></span>\r\n                    <input className=\"uk-input\" type=\"password\" placeholder=\"password\" ref={passwordRef} />\r\n                </div>\r\n                {shortPass ? (\r\n                    <p className=\"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right\">Password too short.</p>\r\n                ) : \"\"}\r\n            </div>\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: lock\"></span>\r\n                    <input className=\"uk-input\" type=\"password\" placeholder=\"confirm password\" ref={confirmPasswordRef} />\r\n                </div>\r\n                {passNotMatch ? (\r\n                    <p className=\"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right\">Password doesn't match.</p>\r\n                ) : \"\"}\r\n            </div>\r\n            {missingFields ? (\r\n                <p className=\"uk-text-small uk-text-danger uk-margin-remove uk-padding-remove uk-text-right\">Empty field(s).</p>\r\n            ) : \"\"}\r\n            <div className=\"uk-margin-small\">\r\n                <button className=\"uk-button primary-btn\" type=\"submit\" onClick={handleSignup}>Sign up</button>\r\n            </div>\r\n            <p className=\"signup-login-text\">\r\n                Already have an account? <Link to=\"/login\"><span>Log in here now.</span></Link>\r\n            </p>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default SignupForm;","import React from \"react\";\r\nimport SignupForm from \"../components/SignupForm\";\r\nimport \"./pages.css\";\r\n\r\nfunction Signup() {\r\n    return (\r\n        <div className=\"signup-container uk-background-cover uk-flex uk-flex-center\">\r\n            <SignupForm />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Signup;","import React, { useState, useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\n\r\nfunction ChampionCard(props) {\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        API.getUserData()\r\n            .then(user => {\r\n                setUser({\r\n                    isLoggedIn: true,\r\n                    id: user.data.id,\r\n                    champions: user.data.champions\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setUser({\r\n                    isLoggedIn: false\r\n                })\r\n            })\r\n    }, []);\r\n\r\n    const [maxReached, setMaxReached] = useState(false);\r\n    const [championAdded, setChampionAdded] = useState(false);\r\n\r\n    function calcBarWidth(a) {\r\n        return a * 1.8;\r\n    }\r\n\r\n    async function handleAdd() {\r\n        try {\r\n            if (user.champions.length < 3) {\r\n                setChampionAdded(true);\r\n                // console.log(\"Running conditional champions.length < 3...\", champions.length);\r\n                if (props.nullStats) {\r\n                    // Function to calculate attack and defense based on powerstats\r\n                    function calcBattleStat(a, b, c) {\r\n                        return ((a + b + c) / 30).toFixed();\r\n                    }\r\n                    // Function to generate a random value from 1 - 100\r\n                    function generateStat() {\r\n                        return Math.floor((Math.random() * 100) + 1);\r\n                    }\r\n                    // Store relevant data\r\n                    const strength = generateStat();\r\n                    const power = generateStat();\r\n                    const combat = generateStat();\r\n                    const intelligence = generateStat();\r\n                    const speed = generateStat();\r\n                    const durability = generateStat();\r\n                    // Calculate attack and defense\r\n                    const attack = calcBattleStat(strength, power, combat);\r\n                    const defense = calcBattleStat(intelligence, speed, durability);\r\n\r\n                    const newUserChampion = await API.addChampion({\r\n                        user: user.id,\r\n                        name: props.name,\r\n                        image: props.image,\r\n                        strength: strength,\r\n                        power: power,\r\n                        combat: combat,\r\n                        intelligence: intelligence,\r\n                        speed: speed,\r\n                        durability: durability,\r\n                        attack: attack,\r\n                        defense: defense,\r\n                        nullStats: props.nullStats\r\n                    })\r\n                    // Update user's champions array\r\n                    await API.updateUserChampions(user.id, newUserChampion.data._id);\r\n                    window.location.reload(false);\r\n                } else {\r\n                    const newUserChampion = await API.addChampion({\r\n                        user: user.id,\r\n                        name: props.name,\r\n                        image: props.image,\r\n                        strength: props.strength,\r\n                        power: props.power,\r\n                        combat: props.combat,\r\n                        intelligence: props.intelligence,\r\n                        speed: props.speed,\r\n                        durability: props.durability,\r\n                        attack: props.attack,\r\n                        defense: props.defense,\r\n                        nullStats: props.nullStats\r\n                    })\r\n                    // Update user's champions array\r\n                    await API.updateUserChampions(user.id, newUserChampion.data._id);\r\n                    window.location.reload(false);\r\n                }\r\n\r\n            } else {\r\n                console.log(\"You've reached the max number of champions on your list! Please make room if you'd like to add another.\");\r\n                setMaxReached(true);\r\n                // After 3 seconds, setMaxReached backto false to close the alert\r\n                setTimeout(function () {\r\n                    setMaxReached(false);\r\n                }, 4000);\r\n            }\r\n        } catch (err) {\r\n            console.log(\"Add failed: \", err)\r\n        }\r\n    }\r\n\r\n    function handleDelete() {\r\n        API.removeChampion(props.id)\r\n            .then(res => {\r\n                console.log(res);\r\n                window.location.reload(false);\r\n            })\r\n            .catch(err => console.log(err));\r\n        // Remove from champions list in User model\r\n        API.removeChampionFromUser(user.id, props.id)\r\n            .then(res => console.log(res))\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    return (\r\n        <div className=\"champion-card uk-card uk-position-relatve\" style={props.selected && props.selectedId === props.id ? { border: \"2px solid #221D54\" } : { border: \"\" }} >\r\n            {\r\n                maxReached ? (\r\n                    <div className=\"max-reached-alert uk-alert-danger uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast\" uk-alert=\"true\">\r\n                        <p>You've reached the max of 3 champions! Please make room if you'd like to add another.</p>\r\n                    </div>\r\n                ) : \"\"\r\n            }\r\n            {\r\n                championAdded ? (\r\n                    <div className=\"champion-added-alert uk-alert-success uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast\" uk-alert=\"true\">\r\n                        <p>{props.name} successfuly added to your list!</p>\r\n                    </div>\r\n                ) : \"\"\r\n            }\r\n            {\r\n                props.type === \"search\" && user.isLoggedIn ? (\r\n                    <button className=\"add-btn uk-icon-button uk-position-absolute\" uk-icon=\"plus\" onClick={handleAdd}></button>\r\n                ) : \"\"\r\n            }\r\n            {\r\n                props.type === \"user\" && user.isLoggedIn ? (\r\n                    <button className=\"delete-btn uk-icon-button uk-position-absolute\" uk-icon=\"close\" onClick={handleDelete}></button>\r\n                ) : \"\"\r\n            }\r\n            {\r\n                props.type === \"battle\" && user.isLoggedIn ? (\r\n                    <button className=\"select-btn uk-icon-button uk-position-absolute\" uk-icon=\"check\" onClick={props.handleSelect}></button>\r\n                ) : \"\"\r\n            }\r\n            <div className=\"champion-name-container uk-position-absolute uk-text-center\" style={props.selected && props.selectedId === props.id ? { border: \"1px solid #221D54\" } : { border: \"\" }} >\r\n                <span className=\"champion-name\" >{props.name}</span>\r\n            </div>\r\n            <div className=\"champion-img-container uk-card-media-top uk-margin-top uk-position-relative uk-flex uk-flex-center uk-flex-top\">\r\n                <div className=\"battle-stats-container uk-position-absolute\">\r\n                    <div className=\"battle-stats battle-stats-atk uk-flex uk-flex-column uk-flex-middle uk-margin-small-bottom\">\r\n                        <span className=\"battle-stats-val\">{props.attack}</span><span className=\"battle-stats-label\">ATK</span>\r\n                    </div>\r\n                    <div className=\"battle-stats battle-stats-def uk-flex uk-flex-column uk-flex-middle\">\r\n                        <span className=\"battle-stats-val\">{props.defense}</span><span className=\"battle-stats-label\">DEF</span>\r\n                    </div>\r\n                </div>\r\n                <img src={props.image} alt={props.name} />\r\n            </div>\r\n            <div className=\"uk-card-body\">\r\n                <p className=\"stats-header uk-flex uk-flex-middle\">STATS {props.nullStats ? (<span className=\"null-icon\" uk-icon=\"icon: ban; ratio: .8;\" uk-tooltip=\"title: Stats are randomized on add.; pos: right\"></span>) : \"\"}\r\n                </p>\r\n                <div className=\"uk-flex uk-flex-middle\">\r\n                    <span className=\"stats-label\">STR</span><div className=\"stats-bar-container uk-flex uk-flex-middle uk-width-expand\"><div className=\"stats-bar\" style={{ width: calcBarWidth(props.strength) + \"px\" }}></div><span className=\"stats-val\">{props.strength}</span></div>\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-middle\">\r\n                    <span className=\"stats-label\">PWR</span><div className=\"stats-bar-container uk-flex uk-flex-middle uk-width-expand\"><div className=\"stats-bar\" style={{ width: calcBarWidth(props.power) + \"px\" }}></div><span className=\"stats-val\">{props.power}</span></div>\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-middle\">\r\n                    <span className=\"stats-label\">CBT</span><div className=\"stats-bar-container uk-flex uk-flex-middle uk-width-expand\"><div className=\"stats-bar\" style={{ width: calcBarWidth(props.combat) + \"px\" }}></div><span className=\"stats-val\">{props.combat}</span></div>\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-middle\">\r\n                    <span className=\"stats-label\">INT</span><div className=\"stats-bar-container uk-flex uk-flex-middle uk-width-expand\"><div className=\"stats-bar\" style={{ width: calcBarWidth(props.intelligence) + \"px\" }}></div><span className=\"stats-val\">{props.intelligence}</span></div>\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-middle\">\r\n                    <span className=\"stats-label\">SPD</span><div className=\"stats-bar-container uk-flex uk-flex-middle uk-width-expand\"><div className=\"stats-bar\" style={{ width: calcBarWidth(props.speed) + \"px\" }}></div><span className=\"stats-val\">{props.speed}</span></div>\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-middle\">\r\n                    <span className=\"stats-label\">DUR</span><div className=\"stats-bar-container uk-flex uk-flex-middle uk-width-expand\"><div className=\"stats-bar\" style={{ width: calcBarWidth(props.durability) + \"px\" }}></div><span className=\"stats-val\">{props.durability}</span></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChampionCard;","import React, { useEffect, useState } from \"react\";\r\nimport \"./style.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport API from \"../../utils/API\";\r\nimport ChampionCard from \"../ChampionCard\";\r\n\r\nfunction ProfileHeader(props) {\r\n\r\n    const [user, setUser] = useState({});\r\n    const [userChampions, setUserChampions] = useState([]);\r\n    const [userChampionId, setUserChampionId] = useState(\"\");\r\n    const [otherChampionId, setOtherChampionId] = useState(\"\");\r\n\r\n    const [championSelected, setChampionSelected] = useState({\r\n        selected: false,\r\n        championId: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        API.getUserData()\r\n            .then(user => {\r\n                setUser({\r\n                    isLoggedIn: true,\r\n                    champions: user.data.champions\r\n                });\r\n            })\r\n            .catch(err => {\r\n                setUser({\r\n                    isLoggedIn: false\r\n                });\r\n            })\r\n    }, []);\r\n\r\n    function handleModal() {\r\n        getUserChampions();\r\n        chooseOtherChampion();\r\n        // Get other users's champion and select an ID to use for the window.locaiton.replace\r\n    }\r\n\r\n    function handleBattle() {\r\n        if (!userChampionId) {\r\n            window.location.replace(`/battle/${user.champions[0]}/vs/${otherChampionId}`);\r\n        } else {\r\n            window.location.replace(`/battle/${userChampionId}/vs/${otherChampionId}`);\r\n        }\r\n    }\r\n\r\n    function chooseOtherChampion() {\r\n        if (props.champions && props.champions.length > 1) {\r\n            const champId = Math.floor(Math.random() * props.champions.length);\r\n            // console.log(\"chooseOtherChampion ran...\", champId);\r\n            setOtherChampionId(props.champions[champId]);\r\n        } else {\r\n            setOtherChampionId(props.champions[0]);\r\n        }\r\n    }\r\n\r\n    async function getUserChampions() {\r\n        if (user.champions && user.champions.length > 0) {\r\n            const newArr = [];\r\n            for (let i = 0; i < user.champions.length; i++) {\r\n                let res = await API.getChampionById(user.champions[i])\r\n                // res.data is the champion object\r\n                newArr.push(res.data);\r\n            }\r\n            setUserChampions(newArr);\r\n        }\r\n    }\r\n\r\n    function handleSelect(id) {\r\n        setUserChampionId(id)\r\n        // console.log(\"handleSelect ran...printing id of clicked champion...\", id);\r\n        setChampionSelected({\r\n            selected: true,\r\n            championId: id\r\n        });\r\n    }\r\n\r\n    return (\r\n        <section className=\"profile-header uk-section uk-flex uk-flex-middle uk-light\">\r\n            <div className=\"profile-img-container uk-flex uk-flex-center uk-flex-middle uk-margin-right\">\r\n                <img src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\" alt=\"Avatar\" />\r\n            </div>\r\n            <div className=\"uk-flex uk-flex-bottom\">\r\n                <div className=\"uk-flex uk-flex-column uk-margin-large-right\">\r\n                    <h2>{props.username}</h2>\r\n                    <div className=\"uk-flex\">\r\n                        <div className=\"user-stats uk-flex uk-flex-column uk-flex-middle\">\r\n                            <span className=\"stat-val\">{props.rank}</span>\r\n                            <span className=\"stat-label\">Rank</span>\r\n                        </div>\r\n                        <div className=\"user-stats uk-flex uk-flex-column uk-flex-middle\">\r\n                            <span className=\"stat-val\">{props.wins}</span>\r\n                            <span className=\"stat-label\">Wins</span>\r\n                        </div>\r\n                        <div className=\"user-stats uk-flex uk-flex-column uk-flex-middle\">\r\n                            <span className=\"stat-val\">{props.losses}</span>\r\n                            <span className=\"stat-label\">Losses</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    props.type === \"otherUser\" && props.champions && user.champions && user.champions.length > 0 && props.champions.length > 0 ? (\r\n                        // <Link to=\"#\" className=\"uk-button secondary-btn\" onClick={handleBattle}>Battle</Link>\r\n                        <button uk-toggle=\"target: #user-champions-modal\" className=\"uk-button secondary-btn\" onClick={handleModal}>Battle</button>\r\n                    ) : \"\"\r\n                }\r\n            </div>\r\n\r\n            <div id=\"user-champions-modal\" uk-modal=\"true\">\r\n                <div className=\"user-champions-modal-wrapper uk-modal-dialog\">\r\n                    <button className=\"uk-modal-close-default\" type=\"button\" uk-close=\"true\"></button>\r\n                    <div className=\"uk-modal-header\">\r\n                        <h2 className=\"uk-modal-title\">My Champions</h2>\r\n                        <p>Select one of your champions to go into battle.</p>\r\n                    </div>\r\n                    <div className=\"uk-modal-body uk-flex uk-width-1-1\">\r\n                        {\r\n                            userChampions && userChampions.length > 0 ? (\r\n                                userChampions.map(champion => {\r\n                                    return <ChampionCard\r\n                                        key={champion._id || champion.image}\r\n                                        id={champion._id}\r\n                                        name={champion.name}\r\n                                        image={champion.image}\r\n                                        strength={champion.strength}\r\n                                        power={champion.power}\r\n                                        combat={champion.combat}\r\n                                        intelligence={champion.intelligence}\r\n                                        speed={champion.speed}\r\n                                        durability={champion.durability}\r\n                                        attack={champion.attack}\r\n                                        defense={champion.defense}\r\n                                        type=\"battle\"\r\n                                        handleSelect={() => handleSelect(champion._id)}\r\n                                        selected={championSelected.selected}\r\n                                        selectedId={championSelected.championId}\r\n                                    />\r\n                                }) \r\n                            ) : <p>Search for Champions to add or create your own!</p>\r\n                        }\r\n                    </div>\r\n                    <div className=\"uk-modal-footer uk-text-right\">\r\n                        <button className=\"uk-button secondary-btn uk-modal-close uk-margin-small-right\" type=\"button\">Cancel</button>\r\n                        <button className=\"uk-button secondary-btn\" type=\"button\" onClick={handleBattle}>Battle</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default ProfileHeader;","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfileHeader from \"../components/ProfileHeader\";\r\nimport ChampionCard from \"../components/ChampionCard\";\r\nimport API from \"../utils/API\";\r\n\r\nfunction UserProfile() {\r\n\r\n    const [championList, setChampionList] = useState([]);\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        API.getUserData()\r\n            .then(async(user) => {\r\n                // console.log(user.data);\r\n                const champions = await API.getChampionsByUserId(user.data.id);\r\n                // console.log(champions.data);\r\n                setChampionList(champions.data);\r\n                setUser({\r\n                    username: user.data.username,\r\n                    rank: user.data.rank,\r\n                    wins: user.data.wins,\r\n                    losses: user.data.losses,\r\n                    rank: user.data.rank\r\n                });\r\n            })\r\n            .catch(err => {\r\n                window.location.replace(\"/login\");\r\n                console.log(\"Something went wrong. You are now logged out...\", err);\r\n            })\r\n    }, []);\r\n\r\n    // async function loadChampionList () {\r\n    //     console.log(\"loadChampionList() running...\")\r\n    //     if (champions && champions.length > 0) {\r\n    //         console.log(\"loadChampionList() running...if conditional running...\")\r\n    //         const newData = [];\r\n    //         for (let i = 0; i < champions.length; i++) {\r\n    //            const championData = await API.getChampionById(champions[i]);\r\n    //            console.log(championData);\r\n    //            newData.push(championData);\r\n    //         }\r\n    //         setChampionList(newData);\r\n    //     } else {\r\n    //         console.log(\"champions is null\");\r\n    //     }\r\n    // }\r\n\r\n    // Go thru champions array and find each champion by id and create a new array with all data\r\n\r\n    return (\r\n        <div className=\"user-profile-container\">\r\n            <ProfileHeader \r\n                username={user.username} \r\n                rank={user.rank}\r\n                wins={user.wins}\r\n                losses={user.losses}\r\n            />\r\n\r\n            <div className=\"user-champions-container\">\r\n                <div className=\"uk-flex uk-flex-middle uk-flex-between\">\r\n                    <h3>My Champions</h3>\r\n                    <div className=\"uk-flex\">\r\n                        <Link to=\"/champions\" className=\"uk-button secondary-btn uk-margin-small-right\">Search</Link>\r\n                        <Link to=\"/create_champion\" className=\"uk-button secondary-btn\">Create</Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"champions-list-container uk-flex uk-flex-wrap\">\r\n                    {\r\n                        championList && championList.length > 0 ? (\r\n                            championList.map(champion => {\r\n                                return <ChampionCard\r\n                                    key={champion._id || champion.image}\r\n                                    id={champion._id}\r\n                                    name={champion.name}\r\n                                    image={champion.image}\r\n                                    strength={champion.strength}\r\n                                    power={champion.power}\r\n                                    combat={champion.combat}\r\n                                    intelligence={champion.intelligence}\r\n                                    speed={champion.speed}\r\n                                    durability={champion.durability}\r\n                                    attack={champion.attack}\r\n                                    defense={champion.defense}\r\n                                    type=\"user\"\r\n                                />\r\n                            }) \r\n                        ) : <p>Search for Champions to add or create your own!</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserProfile;","import React, { useRef, useState, useEffect } from \"react\";\r\nimport ChampionCard from \"../components/ChampionCard\";\r\nimport API from \"../utils/API\";\r\n\r\nfunction ChampionsSearch() {\r\n\r\n    // Champions DB\r\n    const [championsDB, setChampionsDB] = useState([]);\r\n    // Champions search results\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [noResults, setNoResults] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadChampionsDB();\r\n    }, []);\r\n\r\n    function loadChampionsDB() {\r\n        API.getAllChampions()\r\n            .then(res => {\r\n                setChampionsDB(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    const searchRef = useRef();\r\n\r\n    // Function to generate a random value from 1 - 100\r\n    function generateStat() {\r\n        return Math.floor((Math.random() * 100) + 1);\r\n    }\r\n\r\n    // Handle search event\r\n    async function handleSearch(e) {\r\n        e.preventDefault();\r\n        // Store value of search query - lowercased\r\n        const query = searchRef.current.value.toLowerCase();\r\n\r\n        // Search querydb for query\r\n        const queryRes = await API.findAQuery(query);\r\n        console.log(\"Printing result from findAQuery (queryRes.data)...\", queryRes.data)\r\n        if (queryRes.data && queryRes.data.results) {\r\n            const champRes = await API.findChampionsByQuery(query);\r\n            console.log(\"Pringting results from findChampionsByQuery (champRes.data)...\", champRes.data);\r\n            setSearchResults(champRes.data);\r\n        } else {\r\n            // Otherwise, run the third party api\r\n            console.log(\"No results form database. Running api call now...\");\r\n            const heroesResults = await API.searchHeroes(query);\r\n            console.log(\"Printing results from api call...\", heroesResults.data.results);\r\n\r\n\r\n            if (!heroesResults.data.results) {\r\n                console.log(\"No results for this search.\")\r\n                setNoResults(true);\r\n                // Add query to database\r\n                await API.addAQuery({\r\n                    query: query,\r\n                    results: false\r\n                });\r\n            } else {\r\n                // Add query to database\r\n                await API.addAQuery({\r\n                    query: query,\r\n                    results: true\r\n                });\r\n                // Declare a new array for api search results\r\n                const newResults = [];\r\n                // Declare a function to calculate attack and defense\r\n                function calcBattleStat(a, b, c) {\r\n                    return ((a + b + c) / 30).toFixed();\r\n                }\r\n                // Go through the results\r\n                for (let i = 0; i < heroesResults.data.results.length; i++) {\r\n                    // Store each result\r\n                    const champion = heroesResults.data.results[i];\r\n                    // console.log(\"Adding champions...\", champion);\r\n\r\n                    // Store relevant data\r\n                    const name = champion.name;\r\n                    const race = champion.appearance.race;\r\n                    const image = champion.image.url;\r\n                    let strength;\r\n                    let power;\r\n                    let combat;\r\n                    let intelligence;\r\n                    let speed;\r\n                    let durability;\r\n                    let nullStats;\r\n                    champion.powerstats.strength === \"null\" ? strength = generateStat() : strength = champion.powerstats.strength;\r\n                    champion.powerstats.power === \"null\" ? power = generateStat() : power = champion.powerstats.power;\r\n                    champion.powerstats.combat === \"null\" ? combat = generateStat() : combat = champion.powerstats.combat;\r\n                    champion.powerstats.intelligence === \"null\" ? intelligence = generateStat() : intelligence = champion.powerstats.intelligence;\r\n                    champion.powerstats.speed === \"null\" ? speed = generateStat() : speed = champion.powerstats.speed;\r\n                    champion.powerstats.durability === \"null\" ? durability = generateStat() : durability = champion.powerstats.durability;\r\n                    // Calculate attack and defense\r\n                    const attack = calcBattleStat(parseInt(strength), parseInt(power), parseInt(combat));\r\n                    const defense = calcBattleStat(parseInt(intelligence), parseInt(speed), parseInt(durability));\r\n                    // If any of the powerstats is \"null\"\r\n                    if (champion.powerstats.strength === \"null\" || champion.powerstats.power === \"null\" || champion.powerstats.combat === \"null\" || champion.powerstats.intelligence === \"null\" || champion.powerstats.speed === \"null\" || champion.powerstats.durability === \"null\") {\r\n                        nullStats = true;\r\n                    } else {\r\n                        nullStats = false;\r\n                    }\r\n                    // Push each result into the new result array\r\n                    newResults.push({\r\n                        superHeroId: champion.id,\r\n                        name: name,\r\n                        race: race,\r\n                        image: image,\r\n                        strength: strength,\r\n                        power: power,\r\n                        combat: combat,\r\n                        intelligence: intelligence,\r\n                        speed: speed,\r\n                        durability: durability,\r\n                        attack: attack,\r\n                        defense: defense,\r\n                        nullStats: nullStats\r\n                    })\r\n\r\n                    const superheroIdRes = await API.findAChampionBySuperHeroId(champion.id);\r\n                    console.log(\"Find champion in db by superheroid. Printing result from findAChampionBySuperHeroId...\", superheroIdRes);\r\n                    if (superheroIdRes.data) {\r\n                        console.log(\"Champion found in database. Not adding...\");\r\n                    } else {\r\n                        console.log(\"Champion NOT in database. Adding now...\")\r\n                        // Add each result to the database\r\n                        API.addChampion({\r\n                            superHeroId: champion.id,\r\n                            name: name,\r\n                            race: race,\r\n                            image: image,\r\n                            strength: strength,\r\n                            power: power,\r\n                            combat: combat,\r\n                            intelligence: intelligence,\r\n                            speed: speed,\r\n                            durability: durability,\r\n                            attack: attack,\r\n                            defense: defense,\r\n                            nullStats: nullStats\r\n                        })\r\n                            .then(dbModel => console.log(\"Champion added to db...\", dbModel))\r\n                            .catch(err => console.log(\"Something went wrong while trying to add champion to db...\", err));\r\n                    }\r\n                }\r\n                // Set search results to the new results array\r\n                setSearchResults(newResults);\r\n                console.log(\"New Results: \", newResults);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    // // Get champions from db by search query\r\n    // const dbChampions = await API.getChampionsByQuery(query)\r\n    // // If there is results\r\n    // if (dbChampions.data.length) {\r\n    //     // Set search results to the db results\r\n    //     setSearchResults(dbChampions.data);\r\n    //     console.log(\"Grabbing from database...\", dbChampions.data);\r\n    // } else {\r\n    //     console.log(\"No results form database. Running api call now...\")\r\n    //     // Otherwise, run the third party api\r\n    //     const heroesResults = await API.searchHeroes(query);\r\n    //     console.log(\"Printing results...\", heroesResults.data.results);\r\n\r\n    //     if (!heroesResults.data.results) {\r\n    //         setNoResults(true);\r\n    //         console.log(\"No results for this search.\")\r\n    //         return;\r\n    //     }\r\n    //     // Declare a new array for results\r\n    //     const newResults = [];\r\n    //     // Declare a function to calculate attack and defense\r\n    //     function calcBattleStat(a, b, c) {\r\n    //         return ((a + b + c) / 30).toFixed();\r\n    //     }\r\n    //     // Go through the results\r\n    //     for (let i = 0; i < heroesResults.data.results.length; i++) {\r\n    //         // Store each result\r\n    //         const champion = heroesResults.data.results[i];\r\n    //         console.log(\"Adding champions...\");\r\n    //         console.log(champion);\r\n\r\n    //         // Store relevant data\r\n    //         const name = champion.name;\r\n    //         const race = champion.appearance.race;\r\n    //         const image = champion.image.url;\r\n    //         let strength;\r\n    //         let power;\r\n    //         let combat;\r\n    //         let intelligence;\r\n    //         let speed;\r\n    //         let durability;\r\n    //         champion.powerstats.strength === \"null\" ? strength = generateStat() : strength = champion.powerstats.strength;\r\n    //         champion.powerstats.power === \"null\" ? power = generateStat() : power = champion.powerstats.power;\r\n    //         champion.powerstats.combat === \"null\" ? combat = generateStat() : combat = champion.powerstats.combat;\r\n    //         champion.powerstats.intelligence === \"null\" ? intelligence = generateStat() : intelligence = champion.powerstats.intelligence;\r\n    //         champion.powerstats.speed === \"null\" ? speed = generateStat() : speed = champion.powerstats.speed;\r\n    //         champion.powerstats.durability === \"null\" ? durability = generateStat() : durability = champion.powerstats.durability;\r\n    //         // Calculate attack and defense\r\n    //         const attack = calcBattleStat(parseInt(strength), parseInt(power), parseInt(combat));\r\n    //         const defense = calcBattleStat(parseInt(intelligence), parseInt(speed), parseInt(durability));\r\n    //         // Push each result into the new result array\r\n    //         newResults.push({\r\n    //             name: name,\r\n    //             race: race,\r\n    //             image: image,\r\n    //             strength: strength,\r\n    //             power: power,\r\n    //             combat: combat,\r\n    //             intelligence: intelligence,\r\n    //             speed: speed,\r\n    //             durability: durability,\r\n    //             attack: attack,\r\n    //             defense: defense,\r\n    //             query: query\r\n    //         })\r\n    //         // Add each result to the database\r\n    //         API.addChampion({\r\n    //             name: name,\r\n    //             race: race,\r\n    //             image: image,\r\n    //             strength: strength,\r\n    //             power: power,\r\n    //             combat: combat,\r\n    //             intelligence: intelligence,\r\n    //             speed: speed,\r\n    //             durability: durability,\r\n    //             attack: attack,\r\n    //             defense: defense,\r\n    //             query: query\r\n    //         })\r\n    //             .then(dbModel => console.log(dbModel))\r\n    //             .catch(err => console.log(err));\r\n    //     }\r\n    //     // Set search results to the new results array\r\n    //     setSearchResults(newResults);\r\n    //     console.log(\"New Results: \", newResults);\r\n    // }\r\n\r\n    return (\r\n        <section className=\"uk-section champions-search-container\">\r\n            <div className=\"uk-flex uk-flex-middle\">\r\n                <h2>Search Champions</h2>\r\n                <form className=\"uk-search uk-search-default uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s uk-width-1-1\">\r\n                    <button className=\"uk-search-icon-flip\" uk-search-icon=\"true\" onClick={handleSearch}></button>\r\n                    <input className=\"uk-search-input\" type=\"search\" placeholder=\"Search for a champion\" ref={searchRef} />\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"champions-search-results uk-flex uk-flex-wrap\">\r\n                {searchResults.length > 0 ?\r\n                    searchResults.map(champion => {\r\n                        return <ChampionCard\r\n                            key={champion._id || champion.image}\r\n                            name={champion.name}\r\n                            image={champion.image}\r\n                            strength={champion.strength}\r\n                            power={champion.power}\r\n                            combat={champion.combat}\r\n                            intelligence={champion.intelligence}\r\n                            speed={champion.speed}\r\n                            durability={champion.durability}\r\n                            attack={champion.attack}\r\n                            defense={champion.defense}\r\n                            nullStats={champion.nullStats}\r\n                            type=\"search\"\r\n                        />\r\n                    }) : noResults ? <p className=\"uk-text-warning\">No results found. Please try a different search!</p> :\r\n                        championsDB.map(champion => {\r\n                            return <ChampionCard\r\n                                key={champion._id || champion.image}\r\n                                name={champion.name}\r\n                                image={champion.image}\r\n                                strength={champion.strength}\r\n                                power={champion.power}\r\n                                combat={champion.combat}\r\n                                intelligence={champion.intelligence}\r\n                                speed={champion.speed}\r\n                                durability={champion.durability}\r\n                                attack={champion.attack}\r\n                                defense={champion.defense}\r\n                                nullStats={champion.nullStats}\r\n                                type=\"search\"\r\n                            />\r\n                        })\r\n                }\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\n\r\nexport default ChampionsSearch;","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\nimport ChampionCard from \"../ChampionCard\";\r\n\r\nfunction UserCard(props) {\r\n\r\n    const [user, setUser] = useState({});\r\n    const [userChampions, setUserChampions] = useState([]);\r\n    const [userChampionId, setUserChampionId] = useState(\"\");\r\n    const [otherChampionId, setOtherChampionId] = useState(\"\");\r\n\r\n    const [championSelected, setChampionSelected] = useState({\r\n        selected: false,\r\n        championId: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        API.getUserData()\r\n            .then(user => {\r\n                // console.log(user.data);\r\n                setUser({\r\n                    isLoggedIn: true,\r\n                    champions: user.data.champions\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setUser({\r\n                    isLoggedIn: false\r\n                })\r\n            });\r\n    }, []);\r\n\r\n    function handleSelect(id) {\r\n        setUserChampionId(id)\r\n        setChampionSelected({\r\n            selected: true,\r\n            championId: id\r\n        });\r\n        // console.log(\"handleSelect ran...printing id of clicked champion...\", id);\r\n    }\r\n\r\n    function handleBattle() {\r\n        if (!userChampionId) {\r\n            window.location.replace(`/battle/${user.champions[0]}/vs/${otherChampionId}`);\r\n        } else {\r\n            window.location.replace(`/battle/${userChampionId}/vs/${otherChampionId}`);\r\n        }\r\n    }\r\n\r\n    function handleModal() {\r\n        getUserChampions();\r\n        chooseOtherChampion();\r\n        // Get other users's champion and select an ID to use for the window.locaiton.replace\r\n    }\r\n\r\n    async function getUserChampions() {\r\n        if (user.champions && user.champions.length > 0) {\r\n            console.log(\"getUserChampions() is running...this is in the if statement...printing user.champions: \", user.champions);\r\n            const newArr = [];\r\n            for (let i = 0; i < user.champions.length; i++) {\r\n                console.log(\"getUserChampions() is running...this is in the for-loop...printing user.champions[i]: \", user.champions[i]);\r\n                let res = await API.getChampionById(user.champions[i])\r\n                // res.data is the champion object\r\n                newArr.push(res.data);\r\n                console.log(\"newArr: \", newArr)\r\n            }\r\n            setUserChampions(newArr);\r\n        }\r\n    }\r\n\r\n    function chooseOtherChampion() {\r\n        if (props.champions && props.champions.length > 1) {\r\n            const champId = Math.floor(Math.random() * props.champions.length);\r\n            console.log(\"chooseOtherChampion ran...\", champId);\r\n            setOtherChampionId(props.champions[champId]);\r\n        } else {\r\n            setOtherChampionId(props.champions[0]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"user-card uk-card\">\r\n            <div className=\"user-info uk-flex\">\r\n                <div className=\"user-image uk-flex uk-flex-center uk-flex-middle uk-margin-small-right\">\r\n                    <img src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\" alt=\"Avatar\" />\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-column\">\r\n                    <h3>{props.username}</h3>\r\n                    <div className=\"uk-flex\">\r\n                        <div className=\"user-info-container uk-flex uk-flex-column uk-flex-middle\">\r\n                            <p className=\"stat-val\">{props.rank}</p>\r\n                            <p className=\"stat-label\">R</p>\r\n                        </div>\r\n                        <hr className=\"uk-divider-vertical uk-margin-small-left uk-margin-small-right\" />\r\n                        <div className=\"user-info-container uk-flex uk-flex-column uk-flex-middle\">\r\n                            <p className=\"stat-val\">{props.wins}</p>\r\n                            <p className=\"stat-label\">W</p>\r\n                        </div>\r\n                        <hr className=\"uk-divider-vertical uk-margin-small-left uk-margin-small-right\" />\r\n                        <div className=\"user-info-container uk-flex uk-flex-column uk-flex-middle\">\r\n                            <p className=\"stat-val\">{props.losses}</p>\r\n                            <p className=\"stat-label\">L</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={user.isLoggedIn ? \"user-card-links uk-flex uk-flex-between\" : \"user-card-links uk-flex uk-flex-center\"} >\r\n                <Link to={`/profile/${props.username}`} className=\"uk-button secondary-btn\">Profile</Link>\r\n                {\r\n                    user.isLoggedIn && props.champions && props.champions.length > 0 && user.champions.length > 0 ? (\r\n                        <button uk-toggle=\"target: #user-champions-modal\" className=\"uk-button secondary-btn\" onClick={handleModal}>Battle</button>\r\n                    ) : \"\"\r\n                }\r\n            </div>\r\n\r\n            <div id=\"user-champions-modal\" uk-modal=\"true\">\r\n                <div className=\"user-champions-modal-wrapper uk-modal-dialog\">\r\n                    <button className=\"uk-modal-close-default\" type=\"button\" uk-close=\"true\"></button>\r\n                    <div className=\"uk-modal-header\">\r\n                        <h2 className=\"uk-modal-title\">My Champions</h2>\r\n                        <p>Select one of your champions to go into battle.</p>\r\n                    </div>\r\n                    <div className=\"uk-modal-body uk-flex uk-width-1-1\">\r\n                        {\r\n                            user.champions && user.champions.length > 0 ? (\r\n                                userChampions.map(champion => {\r\n                                    return <ChampionCard\r\n                                        key={champion._id || champion.image}\r\n                                        id={champion._id}\r\n                                        name={champion.name}\r\n                                        image={champion.image}\r\n                                        strength={champion.strength}\r\n                                        power={champion.power}\r\n                                        combat={champion.combat}\r\n                                        intelligence={champion.intelligence}\r\n                                        speed={champion.speed}\r\n                                        durability={champion.durability}\r\n                                        attack={champion.attack}\r\n                                        defense={champion.defense}\r\n                                        type=\"battle\"\r\n                                        handleSelect={() => handleSelect(champion._id)}\r\n                                        selected={championSelected.selected}\r\n                                        selectedId={championSelected.championId}\r\n                                    />\r\n                                })\r\n                            ) : <p>Search for Champions to add or create your own!</p>\r\n                        }\r\n                    </div>\r\n                    <div className=\"uk-modal-footer uk-text-right\">\r\n                        <button className=\"uk-button secondary-btn uk-modal-close uk-margin-small-right\" type=\"button\">Cancel</button>\r\n                        <button\r\n                            className=\"uk-button secondary-btn\"\r\n                            type=\"button\"\r\n                            onClick={handleBattle}\r\n                        >\r\n                            Battle\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserCard;","import React from \"react\";\r\n\r\nconst UserContext = React.createContext({\r\n    loggedIn: false,\r\n    id: \"\",\r\n    username: \"\",\r\n    rank: 0,\r\n    wins: 0,\r\n    losses: 0,\r\n    champions: []\r\n});\r\n\r\nexport default UserContext;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport UserCard from \"../components/UserCard\";\r\nimport API from \"../utils/API\";\r\nimport UserContext from \"../utils/UserContext\";\r\n\r\nfunction UsersSearch() {\r\n\r\n    const [users, setUsers] = useState([]);\r\n\r\n    const { id } = useContext(UserContext);\r\n\r\n    const usernameRef = useRef();\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            API.getAllUsersButOne(id)\r\n            .then(usersDB => {\r\n                console.log(\"From UsersSearch...printing usersDB.data...\", usersDB.data);\r\n                setUsers(usersDB.data);\r\n            })\r\n            .catch(err => console.log(err));\r\n        } else {\r\n            API.getAllUsers()\r\n            .then(usersDB => {\r\n                console.log(\"From UsersSearch...printing usersDB.data...\", usersDB.data);\r\n                setUsers(usersDB.data);\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n        \r\n    }, []);\r\n\r\n    function handleSearch(e) {\r\n        e.preventDefault();\r\n\r\n        const usernameQuery = usernameRef.current.value;\r\n        API.getUsersBySearch(usernameQuery)\r\n            .then(res => {\r\n                setUsers(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Something went wrong during the search...\", err);\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        <section className=\"uk-section users-search-container\">\r\n            <div className=\"uk-flex uk-flex-middle\">\r\n                <h2>Search Users</h2>\r\n                <form className=\"uk-search uk-search-default uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s uk-width-1-1\">\r\n                    <button className=\"uk-search-icon-flip\" uk-search-icon=\"true\" type=\"submit\" onClick={handleSearch}></button>\r\n                    <input className=\"uk-search-input\" type=\"search\" placeholder=\"Search for a user\" ref={usernameRef} />\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"users-search-results uk-flex uk-flex-wrap\">\r\n                { \r\n                    users && users.length > 0 ? (\r\n                        users.map(user => {\r\n                            return <UserCard \r\n                                key={user._id}\r\n                                username={user.username}\r\n                                rank={user.rank}\r\n                                wins={user.wins}\r\n                                losses={user.losses}\r\n                                champions={user.champions}\r\n                            />\r\n                        })\r\n                    ) : <p className=\"uk-text-warning\">No users found by that query. Please try a different one.</p>\r\n                }\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default UsersSearch;","import React, { useState, useEffect } from \"react\";\r\nimport ProfileHeader from \"../components/ProfileHeader\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ChampionCard from \"../components/ChampionCard\";\r\nimport API from \"../utils/API\";\r\n\r\nfunction OtherUserProfile() {\r\n\r\n    const { username } = useParams();\r\n    // Get user's data based on username from the html route\r\n    const [otherUser, setOtherUser] = useState({});\r\n    const [championList, setChampionList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // console.log(\"useEffect in OtherUserProfile.js running...Printing username...\", username);\r\n        API.getUserByUsername(username)\r\n            .then(async (userDB) => {\r\n                // console.log(userDB.data[0]);\r\n                const champions = await API.getChampionsByUserId(userDB.data[0]._id);\r\n                setChampionList(champions.data);\r\n                setOtherUser({\r\n                    username: userDB.data[0].username,\r\n                    rank: userDB.data[0].rank,\r\n                    wins: userDB.data[0].wins,\r\n                    losses: userDB.data[0].losses,\r\n                    champions: userDB.data[0].champions\r\n                });\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"user-profile-container\">\r\n            <ProfileHeader\r\n                username={username}\r\n                rank={otherUser.rank}\r\n                wins={otherUser.wins}\r\n                losses={otherUser.losses}\r\n                champions={otherUser.champions}\r\n                type=\"otherUser\"\r\n            />\r\n\r\n            <div className=\"user-champions-container\">\r\n                <div className=\"uk-flex uk-flex-middle uk-flex-between\">\r\n                    <h3>Champions</h3>\r\n                </div>\r\n                <div className=\"champions-list-container uk-flex uk-flex-wrap\">\r\n                    {\r\n                        championList && championList.length > 0 ? (\r\n                            championList.map(champion => {\r\n                                return <ChampionCard\r\n                                    key={champion._id || champion.image}\r\n                                    id={champion._id}\r\n                                    name={champion.name}\r\n                                    image={champion.image}\r\n                                    strength={champion.strength}\r\n                                    power={champion.power}\r\n                                    combat={champion.combat}\r\n                                    intelligence={champion.intelligence}\r\n                                    speed={champion.speed}\r\n                                    durability={champion.durability}\r\n                                    attack={champion.attack}\r\n                                    defense={champion.defense}\r\n                                    type=\"otherUser\"\r\n                                />\r\n                            })\r\n                        ) : <p>This user has no champions yet.</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OtherUserProfile;","import React from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction HealthBar(props) {\r\n    return (\r\n        <div className={ props.type === \"user\" ? \"uk-flex uk-flex-middle uk-margin-large-bottom\" : \"uk-flex uk-flex-row-reverse uk-flex-middle uk-margin-large-bottom\" }>\r\n            <div className={ props.type === \"user\" ? \"battle-user-avatar uk-flex uk-flex-center uk-flex-middle\" : \"battle-other-user-avatar uk-flex uk-flex-center uk-flex-middle\" }>\r\n                <img src={props.image} alt=\"Avatar\" />\r\n            </div>\r\n            <div className={ props.type === \"user\" ? \"uk-flex uk-flex-column\" : \"uk-flex uk-flex-column uk-flex-bottom\" }>\r\n                <p className=\"battle-champion-name\">{props.name}</p>\r\n                <div className={ props.type === \"user\" ? \"healthbar-container uk-flex uk-flex-middle\" : \"healthbar-container uk-flex uk-flex-row-reverse uk-flex-middle\" }>\r\n                    <div className={ props.type === \"user\" ? \"healthbar-bar-border uk-flex uk-flex-left\" : \"healthbar-bar-border-reverse uk-flex uk-flex-right\" }>\r\n                        <div className=\"healthbar-bar\" style={{width:`${props.health}%`}}></div>\r\n                    </div>\r\n                    <div className=\"healthbar-val\"><p>{props.health}</p></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HealthBar;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport API from \"../utils/API\";\r\nimport HealthBar from \"../components/HealthBar\";\r\nimport ChampionCard from \"../components/ChampionCard\";\r\n// import UserContext from \"../utils/UserContext\";\r\n\r\nfunction Battle() {\r\n\r\n    // const [user, setUser] = useContext(UserContext);\r\n\r\n    const [battleStats, setBattleStats] = useState({\r\n        started: false,\r\n        timerDone: false,\r\n        textDisplay: \"\",\r\n        gameEnded: false,\r\n    });\r\n\r\n    // const [playerTurn, setPlayerTurn] = useState();\r\n\r\n    // Get Champion IDs from the url to render their cards and health bar\r\n    const { userid, otheruserid } = useParams();\r\n\r\n    // Get user's and other user's data\r\n    const [userData, setUserData] = useState({});\r\n    const [otherData, setOtherData] = useState({});\r\n\r\n    // console.log(userid, otheruserid);\r\n    const [userAtkTurn, setUserAtkTurn] = useState();\r\n    // User's champion's stats\r\n    const [userChampion, setUserChampion] = useState({});\r\n    const [userHealth, setUserHealth] = useState();\r\n    const [userAttack, setUserAttack] = useState();\r\n    const [userDamage, setUserDamage] = useState();\r\n    // Other's champion's stats\r\n    const [otherChampion, setOtherChampion] = useState({});\r\n    const [otherHealth, setOtherHealth] = useState();\r\n    const [otherAttack, setOtherAttack] = useState();\r\n    const [otherDamage, setOtherDamage] = useState();\r\n\r\n    useEffect(() => {\r\n        loadChampionsAndUsers();\r\n        // setTimeout(() => {\r\n        //     checkUserStatus();\r\n        // }, 5000);\r\n    }, []);\r\n\r\n    // function checkUserStatus() {\r\n    //     if (user.loggedIn) {\r\n    //         // window.location.replace(\"/login\");\r\n    //         console.log(\"If user is logged in...\", user, user.loggedIn);\r\n    //     } else {\r\n    //         console.log(\"If user is NOT logged in...\", user, user.loggedIn);\r\n    //     }\r\n    // }\r\n\r\n    async function loadChampionsAndUsers() {\r\n        try {\r\n            const userChamp = await API.getChampionById(userid);\r\n            const otherChamp = await API.getChampionById(otheruserid);\r\n            setUserChampion(userChamp.data);\r\n            setOtherChampion(otherChamp.data);\r\n            setUserAttack(userChamp.data.attack);\r\n            setUserHealth(100);\r\n            setOtherAttack(otherChamp.data.attack);\r\n            setOtherHealth(100);\r\n            // setPlayerTurn(0);\r\n            // console.log(\"useEffect running...from battle...userChamp.data...\", userChamp.data);\r\n            // console.log(\"useEffect running...from battle...otherChamp.data...\", otherChamp.data);\r\n            const userDataRes = await API.getUserById(userChamp.data.user);\r\n            const otherDataRes = await API.getUserById(otherChamp.data.user);\r\n            setUserData(userDataRes.data);\r\n            setOtherData(otherDataRes.data);\r\n            console.log(\"useEffect running...from battle...userDataRes.data...\", userDataRes.data);\r\n            console.log(\"useEffect running...from battle...otherDataRes.data...\", otherDataRes.data);\r\n        } catch (err) {\r\n            console.log(\"Something went wrong...could not loadChampionsAndUsers...\", err);\r\n        }\r\n    }\r\n\r\n    function hideStartBtn() {\r\n        setTimeout(function () {\r\n            setBattleStats({\r\n                ...battleStats,\r\n                started: true\r\n            })\r\n        }, 1000)\r\n    }\r\n\r\n    const [timeLeft, setTimeLeft] = useState(3);\r\n\r\n    function countDown() {\r\n        let currentTime = 3;\r\n        const countDown = setInterval(function () {\r\n            if (currentTime <= 0) {\r\n                clearInterval(countDown);\r\n                setBattleStats({\r\n                    started: true,\r\n                    timerDone: true,\r\n                    textDisplay: \"FIGHT!\"\r\n                });\r\n            } else {\r\n                currentTime--;\r\n            }\r\n            setTimeLeft(currentTime);\r\n        }, 1000)\r\n        setTimeout(() => {\r\n            startBattle();\r\n        }, 5000)\r\n    }\r\n\r\n    function handleStart() {\r\n        setBattleStats({\r\n            ...battleStats,\r\n            started: true\r\n        });\r\n        countDown();\r\n        hideStartBtn();\r\n    }\r\n\r\n    let playerTurn = 0;\r\n    let userHealthInit = 100;\r\n    let otherHealthInit = 100;\r\n\r\n    function userTurn() {\r\n        console.log(\"------------------------------------------\");\r\n        console.log(\"Player 1 attacks\");\r\n        // get user's attack value\r\n        console.log(\"userAtk: \", userAttack);\r\n        // randomize a number ranging between 1 and other defense\r\n        const otherDef = Math.floor((Math.random() * otherChampion.defense) + 1);\r\n        console.log(\"otherDef: \", otherDef);\r\n        // get the difference\r\n        const damage = userAttack - otherDef;\r\n        console.log(\"damage: \", damage);\r\n        // if difference is positive, subtract from other healthbar\r\n        if (damage >= 0) {\r\n            setOtherDamage(damage);\r\n            setUserAtkTurn(true);\r\n            // setOtherHealth(otherHealth - damage);\r\n            otherHealthInit = otherHealthInit - damage;\r\n            if (otherHealthInit <= 0) {\r\n                setOtherHealth(0);\r\n                console.log(\"otherHealth: \", otherHealthInit);\r\n            } else {\r\n                setOtherHealth(otherHealthInit);\r\n                console.log(\"otherHealth: \", otherHealthInit);\r\n            }\r\n        } else {\r\n            setOtherDamage(0);\r\n            setUserAtkTurn(true);\r\n        }\r\n        // change playerturn\r\n        // setPlayerTurn(1);\r\n    }\r\n\r\n    function otherTurn() {\r\n        console.log(\"------------------------------------------\");\r\n        console.log(\"Player 2 attacks\");\r\n        // get user's attack value\r\n        console.log(\"otherAtk: \", otherAttack);\r\n        // randomize a number ranging between 1 and other defense\r\n        const userDef = Math.floor((Math.random() * userChampion.defense) + 1);\r\n        console.log(\"userDef: \", userDef);\r\n        // get the difference\r\n        const damage = otherAttack - userDef;\r\n        console.log(\"damage: \", damage);\r\n        // if difference is positive, subtract from other healthbar\r\n        if (damage >= 0) {\r\n            setUserDamage(damage);\r\n            setUserAtkTurn(false);\r\n            // setUserHealth(userHealth - damage);\r\n            userHealthInit = userHealthInit - damage;\r\n            if (userHealthInit <= 0) {\r\n                setUserHealth(0);\r\n                console.log(\"userHealth: \", userHealthInit);\r\n            } else {\r\n                setUserHealth(userHealthInit);\r\n                console.log(\"userHealth: \", userHealthInit);\r\n            }\r\n\r\n        } else {\r\n            setUserDamage(0);\r\n            setUserAtkTurn(false);\r\n        }\r\n        // change playerturn\r\n        // setPlayerTurn(0);\r\n    }\r\n\r\n    async function updateOnUserWin() {\r\n        // Increase User's wins and increase Other User's losses\r\n        const newWinsUser = await API.increaseUserWins(userData._id);\r\n        const newWinsOther = await API.increaseUserLosses(otherData._id);\r\n        // Increase both user's totalBattle count\r\n        const newTotalBattleUser = await API.increaseTotalBattle(userData._id);\r\n        const newTotalBattleOther = await API.increaseTotalBattle(otherData._id);\r\n        console.log(\"updateOnUserWin...newWinsUser: \", newWinsUser, \" - newWinsOther: \", newWinsOther, \" - newTotalBattleUser: \", newTotalBattleUser, \" - newTotalBattleOther: \", newTotalBattleOther);\r\n        // Update states\r\n        setUserData(newTotalBattleUser.data);\r\n        setOtherData(newTotalBattleOther.data);\r\n        // Update both user's winsPercent\r\n        await API.updateWinsPercent(userData._id, {\r\n            winsPercent: ((newTotalBattleUser.data.wins / newTotalBattleUser.data.totalBattle) * 100).toFixed()\r\n        });\r\n        await API.updateWinsPercent(otherData._id, {\r\n            winsPercent: ((newTotalBattleOther.data.wins / newTotalBattleOther.data.totalBattle) * 100).toFixed()\r\n        });\r\n    }\r\n\r\n    async function updateOnOtherWin() {\r\n        // Increase User's losses and increase Other User's wins\r\n        const newWinsUser = await API.increaseUserLosses(userData._id);\r\n        const newWinsOther = await API.increaseUserWins(otherData._id);\r\n        // Increase both user's totalBattle count\r\n        const newTotalBattleUser = await API.increaseTotalBattle(userData._id);\r\n        const newTotalBattleOther = await API.increaseTotalBattle(otherData._id);\r\n        console.log(\"updateOnOtherWin...newWinsUser: \", newWinsUser, \" - newWinsOther: \", newWinsOther, \" - newTotalBattleUser: \", newTotalBattleUser, \" - newTotalBattleOther: \", newTotalBattleOther);\r\n        // Update states\r\n        setUserData(newTotalBattleUser.data);\r\n        setOtherData(newTotalBattleOther.data);\r\n        // Update both user's winsPercent\r\n        await API.updateWinsPercent(userData._id, {\r\n            winsPercent: ((newTotalBattleUser.data.wins / newTotalBattleUser.data.totalBattle) * 100).toFixed()\r\n        });\r\n        await API.updateWinsPercent(otherData._id, {\r\n            winsPercent: ((newTotalBattleOther.data.wins / newTotalBattleOther.data.totalBattle) * 100).toFixed()\r\n        });\r\n    }\r\n\r\n    function endGame() {\r\n        if (userHealthInit <= 0) {\r\n            setBattleStats({\r\n                started: true,\r\n                timerDone: true,\r\n                textDisplay: \"You lose.\",\r\n                gameEnded: true\r\n            });\r\n            updateOnOtherWin();\r\n        } else if (otherHealthInit <= 0) {\r\n            setBattleStats({\r\n                started: true,\r\n                timerDone: true,\r\n                textDisplay: \"You win!\",\r\n                gameEnded: true\r\n            })\r\n            updateOnUserWin();\r\n        }\r\n    }\r\n\r\n    function startBattleAgain() {\r\n        setTimeout(() => {\r\n            startBattle();\r\n        }, 1000);\r\n    }\r\n\r\n    function startBattle() {\r\n        // if playerTurn is 0, user goes\r\n        if (playerTurn === 0) {\r\n            userTurn();\r\n            playerTurn = 1;\r\n            // Set a timeout to begin startBattle again\r\n            if (otherHealthInit <= 0 || userHealthInit <= 0) {\r\n                endGame();\r\n                console.log(\"You win!\")\r\n            } else {\r\n                startBattleAgain();\r\n            }\r\n            // else playerTurn is 1, other goes\r\n        } else if (playerTurn === 1) {\r\n            otherTurn();\r\n            playerTurn = 0;\r\n            // Set a timeout to begin startBattle again\r\n            if (userHealthInit <= 0 || otherHealthInit <= 0) {\r\n                endGame();\r\n                console.log(\"You lose.\")\r\n            } else {\r\n                startBattleAgain();\r\n            }\r\n        }\r\n    }\r\n\r\n    function handleLeave() {\r\n        window.location.replace(\"/users\");\r\n    }\r\n\r\n    return (\r\n        <section className=\"battle-container uk-flex uk-flex-column uk-flex-middle\">\r\n            <div className=\"uk-flex uk-flex-top uk-flex-between uk-width-expand\">\r\n                <div className=\"uk-flex uk-flex-column uk-flex-middle uk-position-relative\">\r\n                    {\r\n                        userAtkTurn ? \"\" : <span className=\"health-damage uk-position-absolute\" style={{ display: battleStats.gameEnded ? \"none\" : \"block\" }}>{userDamage}</span>\r\n                    }\r\n                    <HealthBar\r\n                        type=\"user\"\r\n                        image={userChampion.image}\r\n                        name={userChampion.name}\r\n                        health={userHealth}\r\n                    />\r\n                    <ChampionCard\r\n                        type=\"none\"\r\n                        name={userChampion.name}\r\n                        image={userChampion.image}\r\n                        attack={userChampion.attack}\r\n                        defense={userChampion.defense}\r\n                        strength={userChampion.strength}\r\n                        combat={userChampion.combat}\r\n                        power={userChampion.power}\r\n                        intelligence={userChampion.intelligence}\r\n                        durability={userChampion.durability}\r\n                        speed={userChampion.speed}\r\n                    />\r\n                    <span className=\"battle-user-name\"><span uk-icon=\"icon: user; ratio: .8\"></span> {userData.username}</span>\r\n                </div>\r\n                <div className=\"battle-vs uk-flex uk-flex-column uk-flex-middle\">\r\n                    <h2>BATTLE</h2>\r\n                    {\r\n                        battleStats.timerDone ? (\r\n                            \"\"\r\n                        ) : `${timeLeft}`\r\n                    }\r\n                    <div className=\"battle-text\">{battleStats.textDisplay}</div>\r\n                </div>\r\n                <div className=\"uk-flex uk-flex-column uk-flex-middle uk-position-relative\">\r\n                    {\r\n                        userAtkTurn ? <span className=\"health-damage uk-position-absolute\" style={{ display: battleStats.gameEnded ? \"none\" : \"block\" }}>{otherDamage}</span> : \"\"\r\n                    }\r\n                    <HealthBar\r\n                        type=\"otherUser\"\r\n                        image={otherChampion.image}\r\n                        name={otherChampion.name}\r\n                        health={otherHealth}\r\n                    />\r\n                    <ChampionCard\r\n                        type=\"none\"\r\n                        name={otherChampion.name}\r\n                        image={otherChampion.image}\r\n                        attack={otherChampion.attack}\r\n                        defense={otherChampion.defense}\r\n                        strength={otherChampion.strength}\r\n                        combat={otherChampion.combat}\r\n                        power={otherChampion.power}\r\n                        intelligence={otherChampion.intelligence}\r\n                        durability={otherChampion.durability}\r\n                        speed={otherChampion.speed}\r\n                    />\r\n                    <span className=\"battle-user-name\"><span uk-icon=\"icon: user; ratio: .8\"></span> {otherData.username}</span>\r\n                </div>\r\n            </div>\r\n            <button className=\"uk-button primary-btn\" style={{ display: battleStats.started ? \"none\" : \"block\" }} onClick={handleStart}>Start</button>\r\n            <button className=\"uk-button secondary-btn\" style={{ display: battleStats.gameEnded ? \"block\" : \"none\" }} onClick={handleLeave}>Leave</button>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Battle;","import React, { useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\n\r\nfunction RankingRow({ id, rank, username, wins, losses, totalBattle, winsPercent }) {\r\n\r\n    useEffect(() => {\r\n        API.updateWinsPercent(id, {\r\n            rank: rank\r\n        })\r\n            .then(res => {\r\n                console.log(res.data)\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Something went wrong inside the RankingRow component...\", err);\r\n            })\r\n    }, []);\r\n\r\n    return (\r\n        <tr>\r\n            <td>{rank}</td>\r\n            <td>{username}</td>\r\n            <td>{wins}</td>\r\n            <td>{losses}</td>\r\n            <td>{totalBattle}</td>\r\n            <td>{winsPercent}%</td>\r\n        </tr>\r\n    );\r\n}\r\n\r\nexport default RankingRow;","import React, { useState, useEffect } from \"react\";\r\nimport \"./pages.css\";\r\nimport RankingRow from \"../components/RankingRow\";\r\nimport API from \"../utils/API\";\r\n\r\nfunction Ranking() {\r\n\r\n    const [rankedUsers, setRankedUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        API.getAllUsersForRanking()\r\n            .then(res => {\r\n                console.log(\"useEffect from Ranking ran...printing res.data\", res.data);\r\n                setRankedUsers(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"ranking-container uk-section\">\r\n            <h2>Ranking</h2>\r\n            <table className=\"uk-table uk-table-responsive uk-table-hover uk-table-middle uk-table-divider\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"uk-width-small\">Rank</th>\r\n                        <th className=\"uk-width-large\">Username</th>\r\n                        <th>Wins</th>\r\n                        <th>Losses</th>\r\n                        <th># Battles</th>\r\n                        <th>% Wins</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        rankedUsers.length > 0 ? (\r\n                            rankedUsers.map((rankedUser, i) => {\r\n                                return <RankingRow\r\n                                    key={rankedUser._id}\r\n                                    id={rankedUser._id}\r\n                                    rank={i + 1}\r\n                                    username={rankedUser.username}\r\n                                    wins={rankedUser.wins}\r\n                                    losses={rankedUser.losses}\r\n                                    totalBattle={rankedUser.totalBattle}\r\n                                    winsPercent={rankedUser.winsPercent}\r\n                                />\r\n                            })\r\n                        ) : (\r\n                                <tr>\r\n                                    <td className=\"uk-text-nowrap uk-text-muted\">\r\n                                        Battle 20 times to be in the ranking!\r\n                                    </td>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                    <td></td>\r\n                                </tr>\r\n                            )\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Ranking;","import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./style.css\";\r\nimport API from \"../../utils/API\";\r\n\r\nfunction CreateChampionForm() {\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    const [maxReached, setMaxReached] = useState(false);\r\n    const [championAdded, setChampionAdded] = useState(false);\r\n    const [createFailed, setCreateFailed] = useState(false);\r\n\r\n    useEffect(() => {\r\n        API.getUserData()\r\n            .then(user => {\r\n                setUser({\r\n                    isLoggedIn: true,\r\n                    id: user.data.id,\r\n                    champions: user.data.champions\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Something went wrong when trying to get the user's data...\", err);\r\n                setUser({\r\n                    isLoggedIn: false\r\n                })\r\n            })\r\n    }, []);\r\n\r\n    const nameRef = useRef();\r\n    const imageRef = useRef();\r\n    const raceRef = useRef();\r\n\r\n    // Function to generate a random value from 1 - 100\r\n    function generateStat() {\r\n        return Math.floor((Math.random() * 100) + 1);\r\n    }\r\n\r\n    function calcBattleStat(a, b, c) {\r\n        return ((a + b + c) / 30).toFixed();\r\n    }\r\n\r\n    const strength = generateStat();\r\n    const power = generateStat();\r\n    const combat = generateStat();\r\n    const intelligence = generateStat();\r\n    const speed = generateStat();\r\n    const durability = generateStat();\r\n    const attack = calcBattleStat(strength, power, combat);\r\n    const defense = calcBattleStat(intelligence, speed, durability);\r\n\r\n    async function handleAdd(e) {\r\n        e.preventDefault();\r\n        try {\r\n            if (user.champions.length < 3) {\r\n                const newUserChampion = await API.addChampion({\r\n                    user: user.id,\r\n                    name: nameRef.current.value,\r\n                    image: imageRef.current.value,\r\n                    race: raceRef.current.value,\r\n                    strength: strength,\r\n                    power: power,\r\n                    combat: combat,\r\n                    intelligence: intelligence,\r\n                    speed: speed,\r\n                    durability: durability,\r\n                    attack: attack,\r\n                    defense: defense\r\n                });\r\n                console.log(\"handleAdd worked...printing newUserChampion...\", newUserChampion);\r\n                const updatedList = await API.updateUserChampions(user.id, newUserChampion.data._id);\r\n                console.log(\"handleAdd worked...printing updatedList...\", updatedList);\r\n                setChampionAdded(true);\r\n                window.location.replace(\"/profile\");\r\n            } else {\r\n                console.log(\"You've reached the max number of champions on your list! Please make room if you'd like to add another.\");\r\n                setMaxReached(true);\r\n                setTimeout(() => {\r\n                    setMaxReached(false);\r\n                }, 4000);\r\n            }\r\n        } catch (err) {\r\n            console.log(\"Add failed: \", err);\r\n            setCreateFailed(true);\r\n            setTimeout(() => {\r\n                setCreateFailed(false);\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form className=\"create-champion-form uk-flex uk-flex-column uk-flex-middle uk-height-1-1\">\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: user\"></span>\r\n                    <input className=\"uk-input\" type=\"text\" placeholder=\"champion_name\" ref={nameRef} />\r\n                </div>\r\n            </div>\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: image\"></span>\r\n                    <input className=\"uk-input\" type=\"text\" placeholder=\"image_url\" ref={imageRef} />\r\n                </div>\r\n            </div>\r\n            <div className=\"uk-margin-small uk-width-expand\">\r\n                <div className=\"uk-inline uk-width-expand\">\r\n                    <span className=\"uk-form-icon\" uk-icon=\"icon: reddit\"></span>\r\n                    <input className=\"uk-input\" type=\"text\" placeholder=\"race\" ref={raceRef} />\r\n                </div>\r\n            </div>\r\n            <div className=\"uk-margin-small\">\r\n                <button className=\"uk-button primary-btn\" type=\"submit\" onClick={handleAdd} >Create</button>\r\n            </div>\r\n            {\r\n                maxReached ? (\r\n                    <div className=\"max-reached-alert uk-alert-danger uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast\" uk-alert=\"true\">\r\n                        <p>You've reached the max of 3 champions! Please make room if you'd like to add another.</p>\r\n                    </div>\r\n                ) : \"\"\r\n            }\r\n            {\r\n                championAdded ? (\r\n                    <div className=\"champion-added-alert uk-alert-success uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast\" uk-alert=\"true\">\r\n                        <p>Champion successfuly added to your list!</p>\r\n                    </div>\r\n                ) : \"\"\r\n            }\r\n            {\r\n                createFailed ? (\r\n                    <div className=\"max-reached-alert uk-alert-danger uk-position-fixed uk-animation-fade uk-animation-slide-bottom uk-animation-fast\" uk-alert=\"true\">\r\n                        <p>Please fill in all the fields.</p>\r\n                    </div>\r\n                ) : \"\"\r\n            }\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default CreateChampionForm;","import React from \"react\";\r\nimport CreateChampionForm from \"../components/CreateChampionForm\";\r\n\r\nfunction CreateChampion() {\r\n    return (\r\n        <section className=\"create-container uk-section\">\r\n            <h2>Create a Champion</h2>\r\n            <CreateChampionForm />\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default CreateChampion;","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Header from \"./components/Header\";\nimport Homepage from \"./pages/Homepage\";\nimport Footer from \"./components/Footer\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport UserProfile from \"./pages/UserProfile\";\nimport ChampionsSearch from \"./pages/ChampionsSearch\";\nimport UsersSearch from \"./pages/UsersSearch\";\nimport UserContext from './utils/UserContext';\nimport API from \"./utils/API\";\nimport OtherUserProfile from './pages/OtherUserProfile';\nimport Battle from \"./pages/Battle\";\nimport Ranking from \"./pages/Ranking\";\nimport CreateChampion from \"./pages/CreateChampion\";\n\nfunction App() {\n\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    getUserData();\n  }, []);\n\n  async function getUserData() {\n    console.log(\"getUserData() ran...\")\n    const { data } = await API.getUserData();\n    console.log(\"Running getUserData() from App.js...\", data);\n    if (data) {\n      setUser({\n        loggedIn: true,\n        id: data.id,\n        username: data.username,\n        rank: data.rank,\n        wins: data.wins,\n        losses: data.losses,\n        champions: data.champions\n      });\n    } else {\n      setUser({\n        loggedIn: false,\n        id: \"\",\n        username: \"\",\n        rank: 0,\n        wins: 0,\n        losses: 0,\n        champions: []\n      });\n    }\n  }\n\n  return (\n    <Router>\n      <div>\n        <UserContext.Provider value={user} >\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <Homepage />\n            </Route>\n            <Route path=\"/login\">\n              <Login />\n            </Route>\n            <Route path=\"/signup\">\n              <Signup />\n            </Route>\n            <Route exact path=\"/profile\">\n              <UserProfile />\n            </Route>\n            <Route path=\"/champions\">\n              <ChampionsSearch />\n            </Route>\n            <Route path=\"/users\">\n              <UsersSearch />\n            </Route>\n            <Route path=\"/profile/:username\">\n              <OtherUserProfile />\n            </Route>\n            <Route path=\"/battle/:userid/vs/:otheruserid\">\n              <Battle />\n            </Route>\n            <Route path=\"/ranking\">\n              <Ranking />\n            </Route>\n            <Route path=\"/create_champion\">\n              <CreateChampion />\n            </Route>\n          </Switch>\n          <Footer />\n        </UserContext.Provider>\n      </div>\n    </Router>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}